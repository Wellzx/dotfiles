"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7988],{11505:(e,t,n)=>{n.d(t,{A:()=>i});const i={videoPlayerContainer:"ngkFeIGFyNUaxRspbs5H"}},17699:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(30758),o=n(36849);function a(e){var t,n,a,s,r,l=e.size?o.$Z[e.size]:e.iconSize,c=(0,o._C)([{size:16,svgContent:"<path d='M6.53 9.47a.75.75 0 0 1 0 1.06l-2.72 2.72h1.018a.75.75 0 0 1 0 1.5H1.25v-3.579a.75.75 0 0 1 1.5 0v1.018l2.72-2.72a.75.75 0 0 1 1.06 0zm2.94-2.94a.75.75 0 0 1 0-1.06l2.72-2.72h-1.018a.75.75 0 1 1 0-1.5h3.578v3.579a.75.75 0 0 1-1.5 0V3.81l-2.72 2.72a.75.75 0 0 1-1.06 0z'/>"},{size:24,svgContent:"<path d='M9.707 14.293a1 1 0 0 1 0 1.414L5.414 20h1.829a1 1 0 0 1 0 2H2v-5.243a1 1 0 0 1 2 0v1.829l4.293-4.293a1 1 0 0 1 1.414 0zm4.586-4.586a1 1 0 0 1 0-1.414L18.586 4h-1.829a1 1 0 0 1 0-2H22v5.243a1 1 0 1 1-2 0V5.414l-4.293 4.293a1 1 0 0 1-1.414 0z'/>"}],l||24),d=null!==(t=e.autoMirror)&&void 0!==t&&t;return i.createElement(o.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((s=e.title,r=e.titleId,s?"<title ".concat(r?'id="'.concat(r,'"'):"",">").concat(s,"</title>"):"")).concat((n=e.desc,a=e.descId,n?"<desc ".concat(a?'id="'.concat(a,'"'):"",">").concat(n,"</desc>"):"")).concat(c.svgContent)}}))}},29684:(e,t,n)=>{n.d(t,{VideoPlayer:()=>ht});var i=n(30758),o=n(62411),a=n(97500),s=n.n(a),r=n(85387),l=n(17160);var c=n(26482),d=n(92574),u=n(81940);const p="KopIqvLbHzuI_pYTXRSw";var m=n(86070);const v=({onMinimizeButtonClick:e})=>(0,m.jsx)("div",{className:s()(p),children:(0,m.jsx)(d.$,{"aria-label":l.Ru.get("ad-formats.dismissAd"),colorSet:"overMedia",iconOnly:u.b,onClick:e,size:"small"})});var f=n(32874),h=n(63359),x=n(21932),y=n(36755),g=n(63922),b=n(93805),C=n(39750),V=n(54e3);const P="Lk23rM5uSl5mgEXroOPH",j="XvNci8tJYTXGgFBNzRWg",N="Hj1B5D7WgG4aZkU8meAp",L="ctQf8WC83qR_pcv7bOEh",R="Xyaz284GhueBbBPn6gOS",_="pIMAcTC5w2dZdMGe4U_A",M="XeZ0TCAoRGXh8soWVo5S",E=({setVideoContainer:e})=>{const t=(0,o.wA)(),n=(0,C.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri)),a=(0,V.N)(n)?n.url??void 0:void 0,d=((0,V.N)(n)?n.advertiser:void 0)||"Advertiser",u=(0,o.d4)((e=>e?.ads?.vto?.isMinimized)),p=(0,V.N)(n)&&"portrait"===n.videoOrientation,E=(0,i.useRef)(),z=(0,r.zy)(),w=(0,b.S)();(0,i.useEffect)((()=>{E.current?t((0,c.iB)()):E.current=!0}),[t,z.pathname]);const[A,I]=(0,i.useState)(null);(0,i.useEffect)((()=>{t((0,c.MW)())}),[t]),(0,i.useEffect)((()=>{null!==A&&e(A)}),[e,u,A]);const k=s()(P,{[j]:p});return(0,m.jsxs)(x.A,{className:N,animation:{overlay:{base:R,beforeClose:M,afterOpen:_},closeTimeoutMs:300},isOpen:!u,parentSelector:()=>document.querySelector(".VTO__modal-slot"),shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:l.Ru.get("ad-formats.advertisement"),children:[(0,m.jsxs)("div",{className:k,children:[(0,m.jsx)("a",{"aria-label":l.Ru.get("ad-formats.video-ad-overlay.cta-button",{advertiserName:d}),className:k,"data-testid":"video-takeover-link",href:a?(0,f.H)(a):void 0,onClick:()=>{t((0,c.i2)(h.ee.CLICKED,h.Wh.VIDEO_TAKEOVER,h.Lv.VIDEO_PLAYER))},ref:e=>{I(e)},target:"_blank"}),w===g.z.CLOSED&&(0,m.jsx)(v,{onMinimizeButtonClick:()=>{t((0,c.Oc)()),t((0,c.i2)(h.ee.COLLAPSED,h.Wh.MINIMIZE_BUTTON,h.Lv.VIDEO_PLAYER))}})]}),w===g.z.NOW_PLAYING_VIEW&&(0,V.N)(n)&&(0,m.jsx)(y.h,{item:n,className:L})]})},z=({setVideoContainer:e})=>(0,o.d4)((e=>e?.ads?.vto?.isHidden))?null:(0,m.jsx)(E,{setVideoContainer:e});var w=n(60542),A=n(8143),I=n(40638);function k(){const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null),o=(0,I.YQ)((()=>{n.current&&clearTimeout(n.current),n.current=setTimeout((()=>{t(!1)}),1500),t(!0)}),100,{maxWait:100,leading:!0}),a=(0,i.useCallback)((e=>{t(e),o.cancel()}),[o]);return(0,i.useEffect)((()=>()=>{n.current&&clearTimeout(n.current)}),[]),{isControlsVisible:e,setIsControlsVisible:a,handleKeepViewVisible:o}}var O=n(37067),B=n(76147),K=n(37241),F=n(99912),W=n(46181),D=n(67785),S=n(65668),T=n(96736),H=n(46560),U=n(76546),Z=n(25748),G=n(17699),Y=n(60363),X=n(27966);const Q=({className:e})=>{const t=(0,X.l)(),n=(0,i.useCallback)((()=>{t(g.z.NOW_PLAYING_VIEW)}),[t]);return(0,m.jsx)(Y.Zp,{label:l.Ru.get("web-player.now-playing-view.cinema-mode.expand"),children:(0,m.jsx)(Z.H,{iconOnly:G.L,size:"small",onClick:n,"aria-label":l.Ru.get("web-player.now-playing-view.cinema-mode.expand"),semanticColor:"textBase",className:e})})},q="music",$="1.0.1",J="default",ee="15.2.1";class te{constructor(e){this._path=[{name:"desktop-pip-button"}],e?.parentAbsoluteLocation&&(this._parentAbsoluteLocation=e.parentAbsoluteLocation)}pipButtonFactory(e){return new te.PipButtonEventFactory({path:this._path,parentAbsoluteLocation:this._parentAbsoluteLocation,data:e})}_getCurrentLocation(){return{pathNodes:this._path,specMode:[J,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[$,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}}!function(e){e.PipButtonEventFactory=class{constructor({path:e,parentAbsoluteLocation:t,data:n}){this._path=e.concat({...n,name:"pip_button"}),t&&(this._parentAbsoluteLocation=t)}_getCurrentLocation(){return{pathNodes:this._path,specMode:[J,...[...Array(this._path.length-1)].map((()=>""))],specVersion:[$,...[...Array(this._path.length-1)].map((()=>""))]}}getAbsoluteLocation(){const e=this._parentAbsoluteLocation?.locations;return{locations:[...e||[],this._getCurrentLocation()]}}hitUiReveal(){return{actionName:"ui_reveal",actionVersion:1,app:q,generatorVersion:ee,interactionType:"hit",specificationMode:J,specificationVersion:$,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}hitUiHide(){return{actionName:"ui_hide",actionVersion:1,app:q,generatorVersion:ee,interactionType:"hit",specificationMode:J,specificationVersion:$,annotatorConfigurationVersion:"",annotatorVersion:"",location:this._getCurrentLocation(),parentAbsoluteLocation:this._parentAbsoluteLocation}}}}(te||(te={}));var ne=n(30188),ie=n(48566),oe=n(40960),ae=n(84809),se=n(42919),re=n(36504);function le(){const e=(0,o.wA)(),t=(0,ae.XB)();return{enterPipVideoMode:(0,i.useCallback)((()=>{e((0,re.R)(ne.Kz.pip))}),[e]),leavePipVideoMode:(0,i.useCallback)((()=>{t===se.Z.NowPlayingView&&e((0,re.R)(ne.Kz.npv))}),[e,t])}}var ce=n(71582),de=n(70650),ue=n(47900);const pe="fuONPgUcYO2bf15HunlX",me=({noBackground:e,iconSize:t="small",uri:n})=>{const i=(0,o.d4)(ie.c),a=i===ne.Kz.pip,{enterPipVideoMode:r,leavePipVideoMode:c}=le(),{item:d}=(0,U.L)()??{},{isActive:u}=(0,oe.D)({item:d}),p=(0,C.o)(de.A3),{spec:v,logger:f}=(0,ue.r)(F.E,{data:{uri:n,identifier:i}}),h=(x={parentAbsoluteLocation:v.pipButtonContainerFactory().getAbsoluteLocation()},new te(x));var x;if(!p)return null;let y=l.Ru.get("video-player.default-view");return a||(y=u?l.Ru.get("miniplayer.close"):l.Ru.get("miniplayer.open-in")),(0,m.jsx)("div",{className:s()({[pe]:a}),children:(0,m.jsx)(W.D,{noBackground:e,active:a,label:y,onClick:()=>{(0,ce.ge)()&&(0,ce.SP)(),a?(c(),f.logInteraction(h.pipButtonFactory({uri:n}).hitUiHide())):(r(),h.pipButtonFactory({uri:n}).hitUiReveal())},children:(0,m.jsx)(O.F,{size:t})})})};var ve=n(65924),fe=n(11727),he=n(80381);const xe="aHe1QDDI5hmYWAKf4MoR",ye="ACGZS5YQp3lxBSr4RKaF",ge="DtWKCk0YYDlZT11U1niL",be="RTSxo7zS2ozOeg4gnC2c",Ce="ZcIaDrsIojjWZ_Xf_6iN",Ve="viN5UfPr2XfnYOWHTS0W",Pe="pLL2Ok4QckLG8GAWriCB",je="OrGQiDAXobDXrw9LVnnD",Ne=()=>{const e=(0,X.l)(),{isFullScreenSupported:t,toggleFullScreen:n}=(0,he.H)({refOrElement:document.body}),o=(0,i.useCallback)((async()=>{try{await n()}catch(e){}e(g.z.NOW_PLAYING_VIEW)}),[e,n]);return t?(0,m.jsx)(Y.Zp,{label:l.Ru.get("npv.full-screen"),children:(0,m.jsx)(Z.H,{iconOnly:fe.T,size:"small",onClick:o,"aria-label":l.Ru.get("npv.full-screen"),semanticColor:"textBase",className:s()("encore-over-media-set",ye)})}):null},Le=(0,i.memo)((()=>(0,m.jsx)(Ne,{})));var Re=n(77936),_e=n(48563),Me=n(53583),Ee=n(97959),ze=n(68871);const we=[{transform:"scale(1)",opacity:0},{transform:"scale(1.3)",opacity:1},{transform:"scale(1.6)",opacity:0}],Ae=[{transform:"scale(1)",opacity:1},{transform:"scale(1)",opacity:1}],Ie={duration:500,easing:"ease-out"},ke=function({visible:e,className:t,darkOverlayOnHover:n=!1,animatePlayPauseButtonOnClick:a=!0,showProgressbar:r=!1}){const{videoPlayerMode:c}=(0,Re.d)(),d=(0,S.lZ)(),u=(0,_e.$)(),p=c===ne.Kz.cinemaLegacy,v=(0,b.S)(),f=(0,Me.j)(),h=(0,o.d4)((e=>e.platform.isDesktop)),{item:x,context:y}=(0,U.L)()??{},V=x?.uri??"",{isActive:P,onClick:j,showButton:N}=(0,oe.D)({item:x}),L=u.getCapabilities().hasPipSupport,R=(0,Ee.z)(),_=(0,C.o)((e=>e),((e,t)=>(0,ze.a)(e?.restrictions,t?.restrictions)&&e?.item?.uri===t?.item?.uri&&e?.isPaused===t?.isPaused)),{isPaused:M,canResume:E,canPause:z}=(0,S.Nh)(_),{spec:w,logger:A,UBIFragment:I}=(0,ue.r)(F.E,{data:{uri:V,identifier:ne.Kz.npv}}),k=(0,i.useRef)(null),Z=(0,i.useRef)(null),G=s()("encore-over-media-set",ye),Y=(0,i.useCallback)((()=>{let e=null;M&&E?(R.resume({featureIdentifier:"video-player"}),A.logInteraction(w.playButtonFactory().hitPlay({itemToBePlayed:V})),e=k):!M&&z&&(R.pause({featureIdentifier:"video-player"}),A.logInteraction(w.playButtonFactory().hitPause({itemToBePaused:V})),e=Z),a&&e?.current?.animate&&e.current.animate(f?Ae:we,Ie)}),[z,E,M,A,R,w,V,a,f]),X=(0,i.useMemo)((()=>p?null:N?(0,m.jsx)(W.D,{label:P?l.Ru.get("miniplayer.close"):l.Ru.get("miniplayer.open-in"),onClick:j,active:P,className:G,noBackground:!0,children:(0,m.jsx)(O.F,{size:"small",semanticColor:"textBase"})}):h&&L?(0,m.jsx)(me,{uri:V}):null),[P,p,h,L,j,N,V,G]);return x&&y?(0,m.jsxs)(I,{spec:w,children:[v!==g.z.NOW_PLAYING_VIEW&&(0,m.jsxs)("div",{className:s()(xe,t,{[Pe]:e}),children:[(0,m.jsx)(ve.C,{renderInline:!0,className:s()(G,je),noBackground:!0}),X,d&&(0,m.jsx)(Le,{}),(0,m.jsx)(Q,{className:G})]}),n&&(0,m.jsx)("div",{tabIndex:-1,"data-prevents-ambient-mode":"false",className:s()(ge,{[Pe]:e})}),(0,m.jsx)(D.h,{menu:(0,m.jsx)(T.W,{context:y,item:x}),children:(0,m.jsxs)("div",{className:be,tabIndex:-1,"data-prevents-ambient-mode":"false",onClick:Y,onKeyDown:()=>{},"aria-label":M?l.Ru.get("play"):l.Ru.get("pause"),role:"button",children:[(0,m.jsx)("div",{className:Ce,ref:k,children:(0,m.jsx)(B.x,{size:"xlarge",width:48})}),(0,m.jsx)("div",{className:Ce,ref:Z,children:(0,m.jsx)(K.B,{size:"xlarge",width:48})})]})}),r&&(0,m.jsx)("div",{className:s()(Ve,{[Pe]:e}),children:(0,m.jsx)(H.x,{isPreview:!1,timerPlacement:"indicatorOnly"})})]}):(0,m.jsx)(m.Fragment,{})};function Oe(e,t){(0,i.useLayoutEffect)((()=>{t.current&&e(t.current)}),[t,e])}const Be="kJKEEG391Pf_PLzwG2Vm",Ke=({setVideoContainer:e})=>{const t=(0,i.useRef)(null);Oe(e,t);const{isControlsVisible:n,handleKeepViewVisible:o}=k(),a=document.getElementById("VideoPlayerCinema_ReactPortal");return null===a?null:(0,A.createPortal)((0,m.jsx)("div",{ref:t,hidden:!1,className:Be,onMouseMove:o,onFocus:o,"data-testid":"video-player-cinema",children:(0,m.jsx)(ke,{visible:n})}),a)};var Fe=n(13686),We=n(47631),De=n(9768);const Se="dg_LeRfnn0R3ivigmbze",Te="wdZZT43qDlLzMbBxRH7T",He=({cinemaModeRef:e,setVideoContainer:t})=>{const n=(0,i.useRef)(null),{nowPlayingBarRef:o}=(0,Fe.JT)(),{videoPlayerUIFlags:a,setVideoPlayerUIFlag:s}=(0,We.d)();Oe(t,n);const{isControlsVisible:r,handleKeepViewVisible:l}=k();return(0,i.useEffect)((()=>{const e=e=>{"Escape"===e.key&&s(ne.nP.cinemaLegacy,!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s,a.cinemaLegacy]),e.current?o.current?(0,A.createPortal)((0,m.jsxs)("div",{ref:n,className:Se,onMouseMove:l,onFocus:l,"data-testid":"video-player-cinema",children:[(0,m.jsx)(De.s,{containerElements:[e.current,o.current],active:!0,focusTrapOptions:{allowOutsideClick:!0}}),(0,m.jsx)(ke,{visible:r,className:Te})]}),e.current):(console.error("No ref found for nowPlayingBar!"),null):(console.error("No container found for cinema video!"),null)};var Ue=n(11505);const Ze=({setVideoContainer:e})=>{const t=(0,i.useRef)(null);Oe(e,t);const n=window.documentPictureInPicture?.window,o=n?.document.getElementById("document-pip-main-container"),a=(0,_e.$)();return(0,i.useEffect)((()=>(n&&a.setWindow(n),()=>{a.setWindow(window)})),[n,a]),o?(0,A.createPortal)((0,m.jsx)("div",{ref:t,"data-testid":"video-player-document-pip",className:Ue.A.videoPlayerContainer}),o):(0,m.jsx)(m.Fragment,{})},Ge=i.memo((function({setVideoContainer:e,fullscreenModeRef:t}){const n=(0,i.useRef)(null);return Oe(e,n),t.current?(0,A.createPortal)((0,m.jsx)("div",{"data-testid":"video-player-fullscreen",className:s()("VideoFullscreenMode"),children:(0,m.jsx)("div",{className:"VideoFullscreenMode__video-container",ref:n})}),t.current):(console.error("No container found for fullscreen video!"),null)}));var Ye=n(55354);const Xe="_2r290M0vbnbQGfhLbvq",Qe=({setVideoContainer:e})=>{const t=(0,i.useRef)(null),n=(0,Ye.SF)();Oe(e,t);const o=document.getElementById("VideoPlayerNpb_ReactPortal");return null===o?null:(0,A.createPortal)((0,m.jsx)("div",{ref:t,hidden:!1,className:Xe,style:{position:"relative"},onMouseDown:e=>{t.current&&n.current&&(e.stopPropagation(),e.preventDefault())},"data-testid":"video-player-npb"}),o)};var qe=n(64647),$e=n(80654);const Je="H2mo30Z5kNiGZbZ9U2Nu",et="TbZ7pNOfpFK2FmnFuQcW",tt="BRt_JFU0qTnWIGCaWWJY",nt=({visible:e})=>{const t=(0,o.wA)(),n=s()(et,{[tt]:e});return(0,m.jsx)("div",{className:Je,children:(0,m.jsx)("div",{className:n,children:(0,m.jsx)(d.$,{"aria-label":l.Ru.get("npv.full-screen"),colorSet:"overMedia",iconOnly:G.L,onClick:e=>{e.stopPropagation(),e.preventDefault(),t((0,c.MW)()),t((0,c.i2)(h.ee.EXPANDED))},size:"small"})})})},it="Qhq7SHNg9UlhtkK9I6Km",ot="ZWx9Xu8F_WoC4M_KEbtW",at=({element:e,handleKeepViewVisible:t,isControlsVisible:n,item:i,scrollNodeRef:a,setIsControlsVisible:r,setVideoContainer:l,videoContainerRef:c})=>{Oe(l,c);const d=(0,o.wA)(),u="portrait"===i.videoOrientation,p=i.url??void 0,v=s()(it,{[ot]:u});return(0,A.createPortal)((0,m.jsx)("div",{ref:c,hidden:!1,className:v,onMouseLeave:()=>{r(!1)},onMouseDown:e=>{c.current&&a.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:t,onFocus:t,"data-testid":"ads-video-player-npv",children:p?(0,m.jsx)("a",{style:{zIndex:2},href:p,onClick:()=>{d((0,$e.q5)(qe.c.VIDEO_PLAYER,qe.V.AD_NPV))},"data-testid":"video-player-ad-wrapper",children:(0,m.jsx)(nt,{visible:n})}):(0,m.jsx)(nt,{visible:n})}),e)},st="ouiL5cH1WduxtprQ0Iig",rt="ZFMDHV2keRjBzLaxEHri",lt="jJ41rQFZ_WobELYKsjJz",ct="Ml4Cdu0qida6i2P4xr5z",dt=({setVideoContainer:e})=>{const t=(0,i.useRef)(null),n=(0,Ye.SF)(),o=(0,C.o)((e=>e?.item??void 0),((e,t)=>e?.uri===t?.uri));Oe(e,t);const{isControlsVisible:a,setIsControlsVisible:s,handleKeepViewVisible:r}=k(),l=document.getElementById("VideoPlayerNpv_ReactPortal");return null===l?null:(0,V.N)(o)?(0,m.jsx)(at,{element:l,handleKeepViewVisible:r,isControlsVisible:a,item:o,scrollNodeRef:n,setIsControlsVisible:s,setVideoContainer:e,videoContainerRef:t}):(0,A.createPortal)((0,m.jsx)("div",{className:st,children:(0,m.jsx)("div",{ref:t,hidden:!1,className:rt,onMouseLeave:()=>{s(!1)},onMouseDown:e=>{t.current&&n.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:r,onFocus:r,"data-testid":"video-player-npv",children:(0,m.jsx)("div",{ref:t,children:(0,m.jsx)(ke,{visible:a,darkOverlayOnHover:!0,showProgressbar:!0,className:a?lt:ct})})})}),l)};const ut=e=>{const t=(()=>{const[e]=(0,i.useState)((()=>{const e=document.createElement("div");return e.classList.add("VideoPlayer__container"),e}));return e})();if((0,i.useLayoutEffect)((()=>{null!==e&&null!==t&&e.insertBefore(t,e.firstChild)}),[e,t]),t&&t.firstChild instanceof HTMLVideoElement){const e=t.firstChild;return`${e.videoWidth}/${e.videoHeight}`}return"16/9"};var pt=n(56806),mt=n(54191);const vt=n(81007).S.PICTURE_IN_PICTURE_CHANGED;const ft=({setVideoContainer:e,videoContainerRef:t})=>(Oe(e,t),(0,m.jsx)("div",{ref:t,style:{display:"none"}})),ht=({cinemaModeRef:e,fullscreenModeRef:t})=>{const{videoPlayerMode:n}=(0,We.d)(),a=(0,i.useRef)(null),[s,r]=(0,i.useState)(null),l=(0,o.d4)((e=>e.platform.isDesktop)),{isPlayingVideoAd:d}=(0,C.o)((e=>{const t=e?.item??void 0;return{isPlayingVideoAd:(0,de.A3)(e)&&(0,V.N)(t)}})),u=(0,o.d4)((e=>e?.ads?.vto?.isMinimized));if(ut(s),(()=>{const{isPlayingVideo:e,contextUri:t}=(0,C.o)((e=>({isPlayingVideo:(0,de.A3)(e),contextUri:e?.context.uri}))),{setVideoPlayerUIFlag:n}=(0,Re.d)(),o=(0,pt.v)((({connectionStatus:e})=>e===mt.zP.CONNECTED||e===mt.zP.CONNECTING));(0,i.useEffect)((()=>{const t=e&&!o;n(ne.nP.videoAvailable,t)}),[e,o,n,t])})(),(()=>{const e=(0,_e.$)(),{videoPlayerMode:t}=(0,We.d)(),{leavePipVideoMode:n}=le(),o=t===ne.Kz.pip;(0,i.useEffect)((()=>e.getEvents().addListener(vt,(({data:e})=>{!e&&o&&n()}))),[e,o,n]),(0,i.useEffect)((()=>{const t=document.pictureInPictureElement;o&&!t&&e.setPip?.(!0),!o&&t&&e.setPip?.(!1)}),[e,o])})(),function(){const e=(0,_e.$)(),{videoPlayerMode:t}=(0,Re.d)(),[n,o]=(0,i.useState)(!document.hidden),[a,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e="visibilitychange",t=()=>{o(!document.hidden)};return document.addEventListener(e,t),()=>{document.removeEventListener(e,t)}}),[e,o]),(0,i.useEffect)((()=>{const i=!(t===ne.Kz.pip||t===ne.Kz.documentPip||t!==ne.Kz.none&&n),o=e.getCapabilities().hasMinimizeBitrateSupport&&i;a!==o&&(e.setMinimizeBitrate(o),s(o))}),[e,t,n,a,s])}(),(()=>{const e=(0,o.wA)(),t=(0,i.useRef)(),{isPlayingVideoAd:n,playbackId:a}=(0,C.o)((e=>{const t=e?.item??void 0;return{isPlayingVideoAd:(0,de.A3)(e)&&(0,V.N)(t),playbackId:e?.playbackId}}));(0,i.useEffect)((()=>{n&&t.current!==a&&(e((0,c.MW)()),t.current=a)}),[a,n,e])})(),(()=>{const e=(0,_e.$)(),{videoPlayerMode:t}=(0,We.d)(),n=(0,o.d4)((e=>e.ui.fullscreenMode.isOpen)),a=(0,i.useRef)(ne.Kz.none),s=(0,I.YQ)((t=>{e.reportVideoMode&&a.current!==t&&(e.reportVideoMode(t),a.current=t)}),100);(0,i.useEffect)((()=>{n&&t===ne.Kz.cinema?s(ne.Kz.fullscreen):s(t)}),[t,n,e,s])})(),l&&d&&n!==ne.Kz.pip&&!u)return(0,m.jsx)(z,{setVideoContainer:r});switch(n){case ne.Kz.fullscreen:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(Ge,{fullscreenModeRef:t,setVideoContainer:r})})});case ne.Kz.cinema:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(Ke,{setVideoContainer:r})})});case ne.Kz.cinemaLegacy:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(He,{cinemaModeRef:e,setVideoContainer:r})})});case ne.Kz.npv:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(dt,{setVideoContainer:r})})});case ne.Kz.documentPip:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(Ze,{setVideoContainer:r})})});case ne.Kz.nowPlayingBar:return(0,m.jsx)(w.s,{children:(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(Qe,{setVideoContainer:r})})});case ne.Kz.none:default:return(0,m.jsx)("div",{ref:a,children:(0,m.jsx)(ft,{videoContainerRef:a,setVideoContainer:r})})}}},46560:(e,t,n)=>{n.d(t,{x:()=>i.x});var i=n(97342)},65668:(e,t,n)=>{n.d(t,{Nh:()=>c,lZ:()=>l});var i=n(33100),o=n(44461);n(54580);new o.l("queryFullscreenMode","query","5d8427bc0f6f2f6b96521121faf162094c2a3f14f0511b5ca0628c6a5028a3ea",null);var a=n(72540),s=n(39750),r=(n(54e3),n(17824),n(68740),n(25882),n(87606),n(70650));const l=()=>{const e=(0,i.NC)(a.WYm,{loadingValue:!1});return(0,s.o)(r.A3)||e};function c(e){const t=e?.context.metadata?.context_description,n=e?.context.uri||void 0,i=e?.positionAsOfTimestamp??void 0,o=e?.timestamp,a=e?.isPaused,s=e?.restrictions.canPause,r=e?.restrictions.canResume;return{contextName:t,contextUri:n,position:i,timestamp:o,isPaused:a,canPause:s,canResume:r}}}}]);
//# sourceMappingURL=dwp-video-player.js.map