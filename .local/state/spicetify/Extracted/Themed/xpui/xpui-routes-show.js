"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8606],{3630:(e,a,s)=>{s.d(a,{s:()=>c});var t=s(85387),i=s(33100),r=s(66705),n=s(72540),o=s(30869),l=s(35014);const c=()=>{const e=(0,o.o)(l.P.SimilarAudiobooksComponent,(0,t.zy)()),a=(()=>{const e=(0,r.c)(),a=(0,i.NC)(n.S$t);return!!e&&a===n.LR0.Enabled})();return e||a}},9767:(e,a,s)=>{s.d(a,{M:()=>E});var t=s(30758),i=s(97500),r=s.n(i),n=s(62411),o=s(98715),l=s(31863),c=s(1578),d=s(33100),u=s(17160),m=s(96422),h=s(54505),p=s(14238),g=s(38340),x=s(20086),y=s(35918),b=s(67785),j=s(32059),v=s(59682),f=s(88376),C=s(45889),k=s(72540),P=s(27625);const S="udGpsOceE80fzjUaGxkU",w="wMX24UZ671wvuRJkkUOC";var R=s(86070);const N=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,R.jsx)(o.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,R.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,P.ad)(a.toISOString()),(0,P.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,I=({signifierText:e})=>e?(0,R.jsx)(o.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,E=({name:e,uri:a,images:s,authorName:i,authors:P,isHero:E,className:A,onClick:_,testId:B,index:M,requestId:F,isLocked:T=!1,isPlayable:D=!1,color:L,signifierText:U,isPreRelease:O=!1,publishDate:z,variant:V,consumptionCapExplanation:H,logCardImpressions:q=!1})=>{const{playUri:G,playOptions:W}=(0,C.J)(a),$=(0,n.wA)(),K=(0,d.NC)(k.HJU),Q=!!H,X=(0,R.jsx)(f.O,{authorName:i,authors:P}),Y=(0,t.useCallback)((()=>{Q&&$((0,m._3)(H))}),[H,$,Q]);let J;return J=E?(0,R.jsx)(x.A,{className:A,index:M,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:W,onPlay:Q?Y:void 0,delegatePlayback:Q,isPlayable:(D||Q)&&K,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,R.jsx)(p.M,{isHero:!0,images:s,color:L,FallbackComponent:e=>(0,R.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.t,{children:u.Ru.get("card.tag.audiobook")}),(0,R.jsx)(o.E,{variant:"bodySmall",children:X})]}),getSignifierContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(N,{isPreRelease:O,publishDate:z}),(0,R.jsx)(I,{signifierText:U})]}),testId:B,requestId:F,logCardImpressions:q}):(0,R.jsx)(h.Z,{className:A,variant:V,index:M,onClick:_,headerText:e,featureIdentifier:"audiobook",uri:a,playUri:G,onPlay:Q?Y:void 0,delegatePlayback:Q,playOptions:W,isPlayable:(D||Q)&&K,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,i),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,i),dragMimeType:v.fl.AUDIOBOOKS,renderCardImage:()=>(0,R.jsx)(p.M,{images:s,color:L,FallbackComponent:e=>(0,R.jsx)(l.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(g.c,{lineClamp:U?1:2,children:[T&&(0,R.jsx)(c.y,{size:"small",className:S}),(0,R.jsx)(N,{isPreRelease:O,publishDate:z}),(0,R.jsx)(o.E,{as:"span",variant:"bodySmall",className:r()({[w]:O&&i}),children:X})]}),(0,R.jsx)(I,{signifierText:U})]}),testId:B,requestId:F,logCardImpressions:q}),(0,R.jsx)(b.h,{menu:(0,R.jsx)(j.p,{uri:a}),children:J})}},24174:(e,a,s)=>{s.d(a,{o:()=>h});var t=s(17160),i=s(54505),r=s(14238),n=s(38340),o=s(20086),l=s(35918),c=s(67785),d=s(34123),u=s(99772),m=s(86070);const h=({images:e,name:a,uri:s,publisher:h,sharingInfo:p,mediaType:g,isHero:x=!1,onClick:y,testId:b,index:j,requestId:v,color:f,variant:C,logCardImpressions:k=!1})=>{let P;const S=g===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return P=x?(0,m.jsx)(o.A,{index:j,onClick:y,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsxs)(n.c,{isHero:!0,children:[(0,m.jsx)(l.t,{children:S}),h&&(0,m.jsx)("span",{children:h})]}),testId:b,requestId:v,logCardImpressions:k}):(0,m.jsx)(i.Z,{variant:C,onClick:y,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,index:j,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:x,images:e,color:f}),renderSubHeaderContent:()=>(0,m.jsx)(n.c,{children:h&&(0,m.jsx)("span",{children:h})}),testId:b,requestId:v,logCardImpressions:k}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:p}),children:P})}},26090:(e,a,s)=>{s.d(a,{w:()=>d});var t=s(30758),i=s(94703),r=s(17160),n=s(76688),o=s(6727),l=s(49284),c=s(47900);const d=({uri:e,isBook:a})=>{const{add:s,remove:d}=(0,l.p)("prerelease"),u=(0,o.o)("prerelease",[e]).at(0),{enqueueSnackbar:m}=(0,n.d)(),{spec:h,logger:p}=(0,c.r)(i.k,{data:{uri:e}});return{isPreSaved:u,addPresave:(0,t.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitPresave({prereleaseId:e,itemToBePresaved:e,contextUri:e})),await s(e),m(a?r.Ru.get("web-player.prerelease.audiobook_feedback_presaved"):r.Ru.get("web-player.prerelease.album_feedback_presaved"))}),[s,m,a,p,h,e]),removePresave:(0,t.useCallback)((async()=>{p.logInteraction(h.actionBarFactory().preSaveButtonFactory().hitRemovePresave({prereleaseId:e,itemToBeRemovedFromPresaved:e,contextUri:e})),await d(e)}),[p,d,h,e])}}},29435:(e,a,s)=>{s.d(a,{v:()=>m});var t=s(12738),i=s(80054),r=s(92574),n=s(12271),o=s(17160),l=s(86559),c=s(26090),d=s(46032),u=s(86070);const m=({uri:e,isBook:a=!1})=>{const{isPreSaved:s,addPresave:m,removePresave:h}=(0,c.w)({uri:e,isBook:a});return s?(0,u.jsx)(t.n,{onClick:h,iconTrailing:i.k,children:o.Ru.get("web-player.prerelease.presaved")}):(0,u.jsx)(l.h,{uri:e,action:d.no.SAVE_PRERELEASE,children:(0,u.jsx)(r.$,{disabled:void 0===s,onClick:m,iconTrailing:n.P,children:o.Ru.get("web-player.prerelease.presave")})})}},30635:(e,a,s)=>{s.d(a,{G:()=>S});var t=s(97500),i=s.n(t),r=s(17160),n=s(98715);const o="YNXLVjlRXPfM4xObTojA",l="CVRy4NtxZYSle8dJ1E67",c="holKDGFNEFSz85czBeSv",d="gqidZhN1lgoZDfI_7E6w",u="_IQ8dgA5pEr_V8PfUkWa",m="xNkPMA_OvAxcFTdfyroI";var h=s(86070);const p=({value:e,label:a,hasDivider:s=!1})=>(0,h.jsxs)("div",{className:c,"aria-hidden":"true",children:[(0,h.jsx)(n.E,{variant:"titleSmall",className:i()({[u]:s}),children:e}),(0,h.jsx)(n.E,{variant:"marginal",semanticColor:"textSubdued",children:a})]});var g=s(30758);const x=6e4,y=36e5,b=864e5;var j=s(63203),v=s(28109);const f={days:0,hours:0,minutes:0,seconds:0};function C(e){return e>0?function(e){const a=Math.abs(e);return{days:Math.floor(a/b),hours:Math.floor(a%b/y),minutes:Math.floor(a%y/x),seconds:Math.floor(a%x/1e3)}}(e):f}var k=s(6001),P=s(26062);const S=({targetDate:e,className:a,onComplete:s,images:t,imageTitle:n})=>{const{days:c,hours:u,minutes:x,seconds:y}=((e,a)=>{const s=(0,g.useRef)(a);s.current=a;const[t,i]=(0,g.useState)((()=>C((0,j.u)(e))));return(0,v.$)((a=>{const t=(0,j.u)(e),r=C(t);i(r),t<=0&&(a(),s.current?.())}),1e3),t})(e,s),b=void 0!==t&&t.length>0&&n,f=r.Ru.get("web-player.prerelease.countdown_label",{days:c,hours:u,minutes:x,seconds:y});return(0,h.jsxs)("div",{className:i()(o,a,{[l]:b}),role:"timer","data-testid":"countdown",children:[(0,h.jsx)("span",{className:m,children:f}),b&&(0,h.jsx)(k.b,{images:t,type:P.c.ALBUM,shape:k.u.ROUNDED_CORNERS,className:d,title:n}),(0,h.jsx)(p,{value:c,label:r.Ru.get("web-player.prerelease.days",c),hasDivider:!0}),(0,h.jsx)(p,{value:u,label:r.Ru.get("web-player.prerelease.hours",u),hasDivider:!0}),(0,h.jsx)(p,{value:x,label:r.Ru.get("web-player.prerelease.minutes",x),hasDivider:!0}),(0,h.jsx)(p,{value:y,label:r.Ru.get("web-player.prerelease.seconds",y)})]})}},39183:(e,a,s)=>{s.r(a),s.d(a,{default:()=>si});var t=s(30758),i=s(85387),r=s(97364),n=s(39705),o=s(64871),l=s(17160),c=s(45588),d=s(58244),u=s(97500),m=s.n(u),h=s(62411),p=s(98715),g=s(33100),x=s(30865),y=s(62247),b=s(96422),j=s(92612),v=s(35691),f=s(63517),C=s(3630),k=s(76358),P=s(76541),S=s(91064),w=s(35287),R=s(72540),N=s(62218),I=s(75028),E=s(15930),A=s(24829);var _=s(8335),B=s(9767),M=s(60542),F=s(9263),T=s(66015),D=s(72859);var L=s(62341),U=s(26062),O=s(86070);const z=({className:e,title:a,uri:s})=>{const{data:i}=(0,D.r)({uri:s}),r=i?.seoRecommendedAudiobook.items,n=i?.seoRecommendedAudiobook.totalCount,c=(0,L.a)(r),{ref:d,inView:u}=(0,_.Wx)({threshold:1}),m=(e=>{const a=(0,w.V)(),s=(0,S.vh)(),t=(0,g.NC)(R.S$t),i=(0,h.d4)(I.F6),r=(0,h.d4)(N.JJ);return()=>{const n={category:"audiobook_more_like_this_component_visible",action:"component_visible",variant:t,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?s.send((0,P.r)(n)):s.send((0,k._)(n))}})(s);if((0,t.useEffect)((()=>{u&&m()}),[u,m]),0===n)return null;const p=(0,o.o_h)(s)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:r?.length,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${p}:more-like-this`,elementRef:d,children:c?.map((({data:e},a)=>{return(0,O.jsx)(B.M,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],authorName:(s=e.authorsV2,s.map((e=>e?.name)).join(l.Ru.getSeparator())??""),authors:e.authorsV2,index:a},e.name);var s}))})},V=e=>{const a=(0,F.D)({entityType:U.c.AUDIOBOOK,componentType:"shelf",uri:e.uri});return(0,O.jsx)(M.s,{onError:a,children:(0,O.jsx)(z,{...e})})};var H=s(68190),q=s(10814),G=s(26097),W=s(44256),$=s(27914),K=s(34486),Q=s(6001),X=s(63151),Y=s(42024),J=s(60858),Z=s(55921);const ee="Bns6t3CfzQaCA4DLRzPQ",ae="zGFcpmwFVhJxRDXUXoXA",se="_FLyhB96W9W0msGYNWUl",te="Si5iVyGLDY7mGWH_U2wA",ie="HLBtD6mJyIB9EeOzDtXE",re="DRO0ur1WXqpK9BelywtE",ne="vtlBEOtYFwv1cxC32ccc",oe="Pq_DZj9ECxwTsK8pBxe0",le="bu7LVUNyDPF_FcrKMv74",ce="bYP2npsc_CeChpMGcr6g",de="Ux7aVnDYlwojS4AmkSLg";let ue=function(e){return e.SMALL="small",e.LARGE="large",e}({});const me=({images:e,title:a,contentRating:s,duration:t,moreButton:i,onClick:r,onContextMenu:n,onTouchStart:o,onTouchEnd:l,isPlaying:c,isActive:d,size:u,className:h,label:p,isPlayable:g=!0})=>{const x=u===ue.LARGE?"medium":"small",{badges:y}=(0,Z.b)({contentRating:s});return(0,O.jsxs)("div",{"data-testid":"trailer-component",className:m()(ee,h,{[ae]:d}),onContextMenu:n,onTouchStart:o,onTouchEnd:l,children:[(0,O.jsxs)("div",{className:te,children:[(0,O.jsxs)("div",{className:oe,children:[(0,O.jsx)(Q.b,{type:U.c.EPISODE,title:a,className:m()(ne,{[de]:u===ue.SMALL,[ce]:u===ue.LARGE}),size:X.Qe.SIZE_56,images:e,shape:Q.u.ROUNDED_CORNERS}),(0,O.jsx)("div",{className:le,children:(0,O.jsx)(W.R,{"data-testid":"trailer-play-button",version:G.H4.transparent,size:x,isPlaying:c,onClick:r,disabled:!g})})]}),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:ie,children:(0,O.jsx)(q.Z,{dir:"auto",className:se,variant:"balladBold",children:a})}),(0,O.jsxs)("div",{className:re,children:[(0,O.jsx)($.E,{text:p}),y.explicit&&(0,O.jsx)(K.U,{}),y.nineteen&&(0,O.jsx)(Y.q,{}),(0,O.jsx)(q.Z,{dir:"auto",variant:"mesto",children:(0,O.jsx)(J.d,{durationMs:t})})]})]})]}),i]})};var he=s(10493),pe=s(38684);const ge=({htmlDescription:e,narrators:a,spec:s,isPreRelease:i})=>{const r=(0,pe.s)(),n=(0,t.useCallback)((e=>{const a=s.seeMoreButtonFactory();r.logInteraction(e?a.hitUiReveal():a.hitUiHide())}),[r,s]);return(0,O.jsxs)(O.Fragment,{children:[a.length?(0,O.jsx)(p.E,{as:"p",variant:"bodyMedium",children:l.Ru.get("web-player.audiobooks.narratedByX",a.join(l.Ru.getSeparator()))}):null,e&&(0,O.jsx)(he.N,{maxLines:4,content:e,htmlContent:e,onExpanded:n,isOpen:i||null})]})};var xe=s(93672),ye=s(92031),be=s(31619),je=s(73765),ve=s(34945),fe=s(32059),Ce=s(34976),ke=s(76801),Pe=s(28783),Se=s(39583);const we="e74TmRHu_W1yZHspTBmR",Re="rrcjfInomKt1lXRDRdR8",Ne="Wj9mxFJDtPdiMcUtS1te",Ie="SCwESjClY3m_9JlV2L7S",Ee="fgCxxxjc_7WRNVrA0QJH",Ae="s4XxbZsgf9j4glrHhFdM",_e="Yoa_yG2jhELT4w9wJpHf",Be="xsw253oiwmIAafVfjl1J",Me="JPqnsg5dgBTzsEoClLmD",Fe="bhuRgaz03VXMf0mOG3Q2",Te="GP_qgmZlmL0CJ9r22AD9",De="bilV2VquzmEnhV4d97Tc",Le="caqddwmUJf4ix6GI84NX",Ue="H3bD3wHovFQ2QWwQ5RCg",Oe=({explicit:e,durationMs:a,publishDate:s,preReleaseEndDateTime:t,isPreRelease:i,uri:r,isPlaying:n})=>{const o=(0,Pe.p)(r),{isMarkedAsFinished:c}=(0,ke.z)(r);let d;return i&&t?d=l.Ru.get("web-player.prerelease.releases_on",{date:l.Ru.formatDate(t)}):!i&&s&&(d=l.Ru.formatDate(s)),(0,O.jsxs)("div",{className:Fe,children:[e&&(0,O.jsx)(K.U,{className:Le}),(0,O.jsxs)("div",{className:Te,children:[d&&(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:d}),a?(0,O.jsxs)(O.Fragment,{children:[o?.playPositionMilliseconds?(0,O.jsx)(p.E,{variant:"bodySmall",className:De,children:(0,O.jsx)(J.d,{durationMs:a})}):null,(0,O.jsx)(Se.j,{isPlaying:n,fullyPlayed:c,durationMs:a,position:o?.playPositionMilliseconds})]}):null]})]})};var ze=s(92574),Ve=s(29435);const He=(0,t.createContext)(null),qe=({children:e,isPreRelease:a})=>{const[s,i]=(0,t.useState)(!a),r=(0,t.useMemo)((()=>({isPreRelease:a,isCountdownFinished:s,setCountdownFinished:()=>i(!0)})),[a,s,i]);return(0,O.jsx)(He.Provider,{value:r,children:e})};function Ge(){const e=(0,t.useContext)(He);if(null===e)throw new Error("Trying to use 'PreRealeaseCountdownContext' without 'PreRealeaseCountdownProvider'!");return e}var We=s(70665);const $e="nz8Wc80RAtdAb3yU9FxM",Ke=({uri:e})=>{const{isCountdownFinished:a}=Ge(),{invalidateCache:s}=(0,We.W)(e);return(0,O.jsx)("div",{className:$e,children:a?(0,O.jsx)(ze.$,{onClick:s,children:l.Ru.get("web-player.audiobooks.goToAudiobook")}):(0,O.jsx)(Ve.v,{uri:e,isBook:!0})})};var Qe=s(96159),Xe=s(40638),Ye=s(76688),Je=s(89468);const Ze="NQAShVY0o7RQ2bCTDSkw";function ea({uri:e,price:a,size:s,spec:t,logger:i,onPlayback:r}){const{enqueueSnackbar:n}=(0,Ye.d)(),o=(0,w.V)(),c=(0,h.d4)(I.Ly),d=0===a?.finalPrice?.amount,u=d?t.getButtonFactory({uri:e}):t.buyButtonFactory({uri:e}),m=(0,Xe.YQ)((async()=>{if(i.logInteraction(u.hitShowPaywall({paywalledItem:e})),o)r();else{try{a?.finalPrice?await(0,Je.S)({show_uri:e,currency:a.finalPrice.currency,price:a.finalPrice.amount}):n(l.Ru.get("error.generic"))}catch(e){n(l.Ru.get("error.generic"))}r()}}),2e3,{leading:!0,trailing:!1}),p=c?l.Ru.get("web-player.audiobooks.unlock"):l.Ru.get("web-player.audiobooks.buy");return(0,O.jsx)(ze.$,{size:s,className:Ze,style:{flexShrink:0},onClick:m,children:d?l.Ru.get("web-player.audiobooks.buyFree"):p})}const aa=({uri:e,isLocked:a,price:s,isPlaying:t,isConsumptionCapped:i,onPlayback:r,logger:n,spec:o,size:l="large"})=>a&&!i?(0,O.jsx)(ea,{size:l,uri:e,price:s,logger:n,spec:o,onPlayback:r}):(0,O.jsx)(Qe.D,{size:l,isPlaying:t,uri:e,onClick:r});var sa=s(10569),ta=s(64363),ia=s(6413),ra=s(82936),na=s(74610),oa=s(47900);const la="8px",ca=t.memo((function({backgroundColor:e,uri:a,name:s,isPlaying:i,togglePlay:r,isLocked:n,isSaved:o,consumptionCapExplanation:c,price:d,spec:u,isExplicit:m,publishDate:p,preReleaseEndDateTime:g,duration:x}){const[y,f]=(0,ra.A)(a,o),C=!(0,ia.n)(),{isPreRelease:k}=Ge(),P=(0,h.wA)(),S=(0,pe.s)(),w=(0,sa.d$)(),{spec:R,logger:N}=(0,oa.r)(xe.e,{data:{uri:a}});(0,t.useEffect)((()=>{w&&N.logImpression(R.impression())}),[w,N,R]);const I=(0,t.useCallback)((()=>{const e=u.saveToLibraryButtonFactory();y?S.logInteraction(e.hitUnfollow({itemToBeUnfollowed:a})):(S.logInteraction(e.hitFollow({itemToBeFollowed:a})),w&&N.logInteraction(R.hitFollow({itemToBeFollowed:a}))),f(!y)}),[a,y,u,f,S,w,N,R]),E=(0,t.useCallback)(((e,s)=>{const t=u.downloadButtonFactory();c?P((0,b._3)(c)):s===na.NV.ADD?S.logInteraction(t.hitDownload({itemToDownload:a})):s===na.NV.REMOVE?S.logInteraction(t.hitRemoveDownload({itemToRemoveFromDownloads:a})):s!==na.NV.NO_PERMISSION&&s!==na.NV.NO_CAPABILITY||S.logInteraction(t.hitUiReveal())}),[c,P,S,u,a]),A=(0,t.useCallback)((()=>{const e=u.contextButtonFactory().hitUiReveal();S.logInteraction(e)}),[S,u]),_=(0,ta.j)(),B=!!c,M=!n&&!B;return(0,O.jsxs)(ye.E,{backgroundColor:e,style:{"--action-bar-padding-bottom":la},children:[(0,O.jsx)(be.S,{testId:"book-action-bar-metadata",children:(0,O.jsx)(Oe,{explicit:m,publishDate:p,preReleaseEndDateTime:g,durationMs:x,isPreRelease:k,uri:a,isPlaying:i})}),(0,O.jsxs)(be.S,{children:[k&&(0,O.jsx)(Ke,{uri:a}),!k&&(0,O.jsx)(aa,{uri:a,isLocked:n,isConsumptionCapped:B,price:d,isPlaying:i,onPlayback:r,logger:S,spec:u,size:_}),!k&&(0,O.jsx)(Ce.e,{children:(0,O.jsx)(je.M,{isAdded:y,onClick:I,disabled:C,size:_,condensed:!0})},"follow-button"),(0,O.jsx)(ve.I,{uri:a,onClick:E,size:_,canDownload:M}),(0,O.jsx)(v.b,{menu:(0,O.jsx)(fe.p,{uri:a,isPreRelease:k,price:d,isLocked:n,isCapped:B}),children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",s),onClick:A,size:_})})]})]})}));var da=s(67785),ua=s(30635),ma=s(59682),ha=s(29299),pa=s(17802),ga=s(13088),xa=s(20297),ya=s(75591),ba=s(30068),ja=s(51945),va=s(4280),fa=s(38273),Ca=s(88376),ka=s(57288),Pa=s(47814),Sa=s(30773),wa=s(8193);const Ra="BBK_i9SHovXTLVjas0kc",Na=t.memo((function({coverArt:e,name:a,authorName:s,authors:t,uri:i,backgroundColor:r,isPlaying:n,togglePlay:o,isLocked:c,price:d,isConsumptionCapped:u,logger:m,spec:h,preReleaseEndDateTime:g}){const x=(0,wa.y)(),y=x===Sa.E.SMALL||x===Sa.E.XSMALL,{isOpen:b,openModal:j,closeModal:v}=(0,Pa.W)(),{isPreRelease:f,setCountdownFinished:C}=Ge(),k=f&&y,P=(0,O.jsx)(fe.p,{uri:i,price:d,isLocked:c,isCapped:u}),S=(0,O.jsx)(Ca.O,{authorName:s,authors:t});return(0,O.jsxs)(ha.z,{backgroundColor:r,size:f?ha.K.XLARGE:ha.K.DEFAULT,children:[(0,O.jsxs)(xa.h,{children:[f&&(0,O.jsx)(Ke,{uri:i}),!f&&(0,O.jsx)(aa,{uri:i,isLocked:c,price:d,isPlaying:n,isConsumptionCapped:u,onPlayback:o,logger:m,spec:h,size:"medium"}),(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(ya.X,{text:a,dragUri:i,dragLabel:a})})]}),!k&&(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(pa.K,{images:e,name:a,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,shape:Q.u.SQUARE,onClick:j,ariaLabel:l.Ru.get("web-player.audiobooks.open_cover_modal")})}),(0,O.jsxs)(ga.Y,{children:[(0,O.jsx)(ja.B,{children:l.Ru.get("web-player.audiobooks.audiobook")}),(0,O.jsx)(da.h,{menu:P,children:(0,O.jsx)(fa.mm,{canEdit:!1,onClick:()=>{},scaleAtMinWidth:fa.tw,dragUri:i,dragMimeType:ma.fl.AUDIOBOOKS,dragLabel:a,children:a})}),f?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ba.X,{children:(0,O.jsx)(p.E,{className:Ra,variant:"bodySmallBold","data-testid":"entityAuthor",children:S})}),g&&(0,O.jsx)(ua.G,{targetDate:g,images:k?e:[],imageTitle:a,onComplete:C})]}):(0,O.jsx)(va.g,{children:S})]}),(0,O.jsx)(ka.K,{images:e,isOpen:b,onClose:v,title:a})]})})),Ia="pwjwUMaZVoJ0wBcQlIDf",Ea=t.memo((({price:e})=>e.finalPrice&&e.finalListPrice?0===e.finalPrice.amount&&0===e.finalListPrice.amount?(0,O.jsxs)("div",{className:Ia,children:[(0,O.jsx)(p.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:l.Ru.get("audiobook.freePriceDescription")}),(0,O.jsx)(p.E,{variant:"bodySmall",children:l.Ru.get("audiobook.freePriceExplanation")})]}):(0,O.jsxs)("div",{className:Ia,children:[(0,O.jsx)(p.E,{variant:"titleSmall",semanticColor:"textBase",children:e.finalPrice.formattedPrice}),e.finalPrice.amount<e.finalListPrice.amount&&(0,O.jsx)(p.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:l.Ru.get("web-player.audiobooks.retailPrice",(0,O.jsx)("span",{style:{textDecoration:"line-through"},children:e.finalListPrice.formattedPrice}))})]}):null));var Aa=s(30485),_a=s(43413),Ba=s(75808),Ma=s(53694),Fa=s(82410),Ta=s(79664),Da=s(39750),La=s(64825);const Ua="XzRW0BrBLoXKWET5f8m4",Oa="ooqITYCPJKua4e5yv8_9",za="zN8lTnSnAUSRAMPb7XYV",Va="llVyicNXe8z0QAnoRur1",Ha="fCrjgF2UgDUWjtqWls4Q",qa="CLnKy_BRVtIluLfBWy5t",Ga="RZa0qnXymlZCoGOdE03d",Wa="RFXE57hUzWvvK4_7GX13",$a="ALQqkJiR2lZOSYvhHesh",Ka="BQwrI2BbKK4n451iu2QC",Qa="VYLq_YaQVNISHPQOu2af",Xa=t.memo((function({name:e,duration:a,uri:s,bookName:i,usePlayContextItem:r,isChapterLocked:n,isPlayable:o,resumePositionMs:c,isFullyPlayed:d,isExplicit:u,is19PlusOnly:g,spec:x,index:y,consumptionCapExplanation:j}){const C=(0,t.useRef)(c),{isPlaying:k,togglePlay:P,isActive:S}=r({uri:s}),w=(0,pe.s)(),R=(0,h.wA)(),N=(0,Da.o)((e=>{if(e?.item?.uri===s){const a=(0,La.s)(e)??0;return C.current=a,a}return 0})),I=(0,t.useCallback)((e=>{e.stopPropagation(),e.preventDefault()}),[]),E=(0,t.useCallback)((e=>{if(I(e),j)return void R((0,b._3)(j));const a=x.chapterBlockFactory({position:y,uri:s}).playButtonFactory();if(n)w.logInteraction(a.hitShowPaywall({paywalledItem:s}));else{const e=(0,Ta.$I)({isPlaying:k,isActive:S,spec:a,logger:w,uri:s});P({loggingParams:e})}}),[j,R,y,S,n,k,w,x,I,P,s]),A=(0,t.useCallback)((()=>{const e=x.chapterBlockFactory({position:y,uri:s}).secondaryHitUiReveal();w.logInteraction(e)}),[y,w,x,s]),_=(0,t.useCallback)((e=>{I(e);const a=x.chapterBlockFactory({position:y,uri:s}).contextMenuFactory().hitUiReveal();w.logInteraction(a)}),[y,w,x,I,s]),B=!(n||j),M=(0,O.jsx)(Ba.d,{className:m()({[Oa]:S}),children:e}),F=(0,O.jsxs)("div",{className:qa,children:[u&&(0,O.jsx)(K.U,{fullText:!0}),g&&(0,O.jsx)(Y.q,{size:16}),(0,O.jsxs)("div",{className:Ga,children:[C.current?(0,O.jsx)(p.E,{variant:"bodySmall",className:Qa,children:(0,O.jsx)(J.d,{durationMs:a.milliseconds})}):null,(0,O.jsx)(Se.j,{isPlaying:k,fullyPlayed:d,durationMs:a.milliseconds,resumePositionMs:C.current,position:k?N:void 0})]})]}),T=(0,O.jsxs)("div",{className:$a,"data-testid":`chapter-${y}`,children:[(0,O.jsx)("div",{className:Ka,children:B?(0,O.jsx)(v.b,{menu:(0,O.jsx)(f.r,{uri:s}),children:(0,O.jsx)(Fa.e,{className:Ha,size:Fa.M.xs,label:l.Ru.get("more.label.context",e),onClick:_})}):null}),(0,O.jsx)("div",{className:Wa,children:(0,O.jsx)(W.R,{size:"small",version:W.H.secondary,onClick:E,isPlaying:k,ariaPlayLabel:l.Ru.get("tracklist.a11y.play",e,i),ariaPauseLabel:l.Ru.get("tracklist.a11y.pause",e,i),locked:n&&!j,disabled:!o&&!(n||j)})})]}),D=(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("hr",{className:za,"aria-hidden":!0}),(0,O.jsx)(Ma.v,{id:`chapter-${y}`,title:M,body:F,footer:T,onDoubleClick:e=>{E(e)},className:Ua})]});return B?(0,O.jsx)(da.h,{menu:(0,O.jsx)(f.r,{uri:s}),onShow:A,children:(0,O.jsx)("div",{className:Va,children:D})}):(0,O.jsx)("div",{className:Va,children:D})}));var Ya=s(76404),Ja=s(5664),Za=s(79159);var es=s(60164);const as="LrH_3T2eS36fCP4M_9Wt",ss="D8QrQAVF8Vwxp0zzAf2B",ts=({bookUri:e,bookName:a,sampleUri:s,isFinishedUnlockingJourney:i,usePlayContextItem:r,spec:n,consumptionCapExplanation:o})=>{const c=function(e,a){const s=(0,Za.T)();return(0,t.useCallback)((async(t,i)=>s.getBookContents(e,{offset:t,limit:i,doRefreshSubscription:a})),[a,s,e])}(e,i),{isMarkedAsFinished:d}=(0,ke.z)(e),u=(0,C.s)(),m=u?6:50,[h,g]=(0,t.useState)(m),x=(0,t.useCallback)((e=>e?.uri===s),[s]),y=(0,t.useCallback)((e=>(e=>null!==e)(e)&&!x(e)),[x]),b=(0,t.useCallback)((async(e,a)=>{const s=await c(e,a);return{items:s.items,totalLength:s.totalCount}}),[c]),{getItems:j,nrValidItems:v}=(0,Ja.E)({fetch:b,nrItems:m,limit:50}),f=(0,t.useCallback)((()=>{g((e=>e+m))}),[m]),k=u&&v>h,P=h-1;return(0,O.jsxs)("ul",{children:[(0,O.jsx)(Ya._,{onReachBottom:u?void 0:f,triggerOnInitialLoad:!0,children:j(0,P).map(((e,s)=>{if(!e||!y(e))return null;const{name:t,duration:i,uri:l,playability:{playable:c},playedState:{playPositionMilliseconds:u,state:m},isExplicit:h,is19PlusOnly:p}=e,g=m===es._w.Completed||d,x=function(e){return!e.playability?.playable&&(e.playability?.reason===es.Uk.PaymentRequired||e.playability?.reason===es.Uk.Anonymous)}(e);return(0,O.jsx)(Xa,{name:t,duration:i,uri:l,bookName:a,usePlayContextItem:r,isPlayable:c,isChapterLocked:x,consumptionCapExplanation:o,resumePositionMs:u,isFullyPlayed:g,isExplicit:h,is19PlusOnly:p,spec:n,index:s},`${l}/${s}`)}))}),k&&(0,O.jsx)("div",{className:as,children:(0,O.jsxs)(Aa.v,{onClick:()=>{f()},className:ss,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("similar-audiobooks.load-more-chapters")}),(0,O.jsx)(_a.V,{size:"xsmall"})]})})]})};var is=s(48535),rs=s(41360),ns=s(97444),os=s(33699),ls=s(53496);const cs="_yl4tOZxcpoUt28k6B8I",ds="lcJflizNrSwDM9yPNk6h",us="ret7iHkCxcJvsZU14oPY",ms=({rating:e,className:a,onClick:s})=>{if(!e)return null;const t=Boolean(e.rating?.rating);return(0,O.jsxs)("button",{className:m()(cs,a),onClick:s,children:[(0,O.jsx)(q.Z,{dir:"auto",variant:"mestoBold",children:e.averageRating?.showAverage?l.Ru.formatNumber(e.averageRating.average,{maximumFractionDigits:1}):l.Ru.get("web-player.audiobooks.noRating")}),t?(0,O.jsx)(os.j,{iconSize:16,className:m()(ds)}):(0,O.jsx)(ls.a,{iconSize:16,className:m()(ds)}),e.averageRating?.showAverage&&(0,O.jsxs)(q.Z,{variant:"mesto",className:m()(us),children:["(",l.Ru.formatNumberCompact(Number(e.averageRating.totalRatings)),")"]})]})};var hs=s(92063),ps=s(6585),gs=s(69618),xs=s(15213);const ys={shuffle:!1,repeat:gs.p.REPEAT_NONE},bs=t.memo((function({metadata:e}){const{uri:a,coverArt:s,name:r,htmlDescriptionPlain:o,authorName:d,authors:u,sample:_,narrators:B,rating:M,isExplicit:F,duration:T,copyrights:D,publishDate:L,price:z,isLocked:q,isSaved:G,consumptionCapExplanation:W,signifierText:$,resumeEpisodeLink:K,topics:Q,isPreRelease:X,preReleaseEndDateTime:Y}=e,{search:J}=(0,i.zy)(),Z=!!new URLSearchParams(J).get("isUnlockingAudiobook"),ee=!(!(0,hs.Z)(Z)||Z),ae=(0,w.V)(),se=(0,rs.H)(s[0]?.url),te=(0,h.wA)(),ie=(0,C.s)(),re=(e=>{const a=(0,w.V)(),s=(0,S.vh)(),t=(0,g.NC)(R.S$t),i=(0,h.d4)(I.F6),r=(0,h.d4)(N.JJ);return()=>{const n={category:"audiobook_show_page_exposure",action:"audiobook_show_page_visit",variant:t,label:"dwp",os:(0,A.f)(),destination_url:e,country:i?r:"",sp_t:(0,E.v8)("sp_t")};a?s.send((0,P.r)(n)):s.send((0,k._)(n))}})(a);(0,t.useEffect)((()=>{re()}),[re]);const ne=(0,g.NC)(R.NzS,{loadingValue:!1}),{spec:oe,logger:le}=(0,oa.r)(x.U,{data:{uri:a,identifier:n.$h.PODCAST_SHOW_AUDIOBOOK}}),{spec:ce,logger:de}=(0,oa.r)(x.U,{data:{uri:a,identifier:n.$h.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),{spec:he,logger:pe}=(0,oa.r)(y.Y,{data:{uri:a}}),xe=(0,t.useMemo)((()=>oe.actionBarFactory()),[oe]),ye=(0,t.useMemo)((()=>ce.aboutSectionFactory()),[ce]),be=(0,t.useMemo)((()=>oe.chapterListFactory()),[oe]);(0,t.useEffect)((()=>{q&&pe.logImpression(he.impression())}),[he,pe,q]);const{isPlaying:je,togglePlay:ve,usePlayContextItem:fe,isActive:Ce,triggerPlay:ke}=(0,ps.P)({uri:a},{featureIdentifier:"audiobook"},ys),{togglePlay:Pe,isPlaying:Se,isActive:Fe}=(0,ps.P)({uri:_?.uri??"",pages:[{items:[{uri:_?.uri??"",uid:_?.uri??"",type:U.c.CHAPTER,provider:null,metadata:X?{is_pre_release:"true",type:"trailer"}:void 0}]}]},{featureIdentifier:"audiobook"},ys),Te=je&&!Se,De=Ce&&!Fe,Le=(0,t.useCallback)((async()=>{const e=oe.actionBarFactory().playButtonFactory();if(W)return le.logInteraction(e.hitShowPaywall({paywalledItem:a})),void te((0,b._3)(W));if(!q||ae)if(ae)ve();else{const s=(0,Ta.$I)({isPlaying:Te,isActive:De,spec:e,logger:le,uri:a});De?ve({loggingParams:s}):ke({skipTo:K?{uri:K}:void 0,loggingParams:s})}}),[oe,W,ae,q,le,a,te,ve,Te,De,ke,K]),Oe=(0,t.useCallback)((()=>{_?.uri&&Pe()}),[Pe,_?.uri]),ze=(0,t.useCallback)((()=>{const s=ye.ratingButtonFactory().hitUiReveal();de.logInteraction(s),te((0,b.eH)(a,e))}),[ye,te,e,de,a]),Ve=(0,wa.y)(),He=q&&!W&&z;return(0,O.jsx)("section",{children:(0,O.jsxs)(qe,{isPreRelease:X,children:[(0,O.jsx)(c.Q,{children:(0,xs.hV)({showOrAudiobookName:r,type:"Audiobook"})}),(0,O.jsx)(is.c,{artistOrShow:d,title:r,uri:a,entityType:is.p.AUDIOBOOK}),(0,O.jsx)(Na,{name:r,authorName:d,authors:u,uri:a,coverArt:s,backgroundColor:se,togglePlay:Le,isPlaying:Te,isLocked:q,isConsumptionCapped:!!W,price:z,logger:le,spec:oe.actionBarFactory(),preReleaseEndDateTime:Y}),(0,O.jsx)(ca,{name:r,backgroundColor:se,uri:a,togglePlay:Le,isPlaying:Te,isLocked:q,isSaved:G,consumptionCapExplanation:W,isExplicit:F,duration:T,publishDate:L,preReleaseEndDateTime:Y,price:z,spec:xe}),(0,O.jsxs)("div",{className:m()(we,"contentSpacing",{[Re]:Ve===Sa.E.LARGE}),children:[(0,O.jsxs)("div",{className:Ne,children:[(0,O.jsxs)("div",{className:Me,children:[$&&(0,O.jsx)(p.E,{variant:"bodyMedium",as:"p",semanticColor:"textBrightAccent",children:$}),!$&&He&&(0,O.jsx)(Ea,{price:z})]}),(0,O.jsx)(ge,{htmlDescription:o,narrators:B,spec:ye,isPreRelease:X??!1})]}),(0,O.jsxs)("div",{className:Ie,children:[_?.isPlayable&&(0,O.jsx)(me,{label:l.Ru.get("audiobook.page.sample"),images:_.coverArt,title:_.name,duration:_.duration.milliseconds,moreButton:q?null:(0,O.jsx)(v.b,{menu:(0,O.jsx)(f.r,{uri:_.uri}),children:(0,O.jsx)(j.e,{})}),onClick:Oe,isPlaying:Se,isActive:Fe,size:ue.LARGE,contentRating:_.contentRating?.label,isPlayable:_.isPlayable}),(0,O.jsxs)("div",{className:_e,children:[!X&&(0,O.jsx)("div",{className:Ee,children:(0,O.jsx)(ms,{rating:M,onClick:ze})}),Q.length>0&&(0,O.jsx)(H.N,{topics:Q,className:Ae})]})]}),(0,O.jsxs)("div",{className:Be,children:[!X&&(0,O.jsx)(ts,{bookUri:a,bookName:r,sampleUri:_?.uri,isFinishedUnlockingJourney:ee,usePlayContextItem:fe,spec:be,consumptionCapExplanation:W},`${a}-${q}-${!!W}`),ne&&(0,O.jsx)(ns.Z,{copyrights:D})]}),ie&&(0,O.jsx)(V,{title:l.Ru.get("similar-audiobooks.more-audiobooks-like-this"),uri:a,className:Ue})]})]})})}));var js=s(4164),vs=s(34123),fs=s(18431);const Cs=({uri:e,name:a,isSaved:s,backgroundColor:i,spec:r})=>{const n=(0,pe.s)(),o=!(0,ia.n)(),[c,d]=(0,ra.A)(e,s),u=(0,sa.d$)(),{spec:m,logger:h}=(0,oa.r)(xe.e,{data:{uri:e}});(0,t.useEffect)((()=>{u&&h.logImpression(m.impression())}),[u,h,m]);const p=(0,t.useCallback)((()=>{const a=r.followButtonFactory();n.logInteraction(c?a.hitUnfollow({itemToBeUnfollowed:e}):a.hitFollow({itemToBeFollowed:e})),!c&&u&&h.logInteraction(m.hitFollow({itemToBeFollowed:e})),d(!c)}),[e,c,r,n,d,u,h,m]),g=(0,t.useCallback)((()=>{n.logInteraction(r.contextButtonFactory().hitUiReveal())}),[n,r]),x=(0,ta.j)();return(0,O.jsx)(ye.E,{backgroundColor:i,children:(0,O.jsxs)(be.S,{children:[(0,O.jsx)(Ce.e,{children:(0,O.jsx)(fs.W,{isFollowing:c,onClick:p,disabled:o})},"follow-button"),(0,O.jsx)(v.b,{menu:(0,O.jsx)(vs.H,{uri:e}),onShow:g,children:(0,O.jsx)(j.e,{label:l.Ru.get("more.label.context",a),size:x})})]})})};var ks=s(86403),Ps=s(51373),Ss=s(82026),ws=s(36585),Rs=s(46265),Ns=s(23248),Is=s(57854),Es=s(28156);const As="BknvXMyUnN3fQCz8mvLI",_s="slMInsl3HL9_02zHT22R",Bs="40px",Ms=({leavebehinds:e})=>{let a;return 1===e.length&&(a=(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser})),2===e.length&&(a=l.Ru.get("podcast-ads.recent_ads_just_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),e.length>2&&(a=l.Ru.get("podcast-ads.recent_ads_more_than_two",(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[0].advertiser}),(0,O.jsx)(p.E,{variant:"bodySmallBold",semanticColor:"textBase",children:e[1].advertiser}))),(0,O.jsxs)(p.E,{variant:"bodySmall",semanticColor:"textSubdued","data-testid":"show-leavebehinds-text",children:[l.Ru.get("podcast-ads.recent_ads_from"),a]})},Fs=({leavebehinds:e,uri:a,surface:s})=>{const i=(0,S.vh)();if((0,t.useEffect)((()=>{a&&e.length>0&&i.send((0,ws.x)({leavebehind_request_id:e[0].requestId,event:"event_viewed",event_reason:`viewed_on_${(0,Rs.Fh)(s).toLowerCase()}`,surface:(0,Rs.Fh)(s),uri:a}))}),[i,e,a,s]),0===e.length)return null;const r=(0,o.o_h)(a)?.id,n=1===e.length?e[0].clickthroughUrl:(0,Ns.q)(r),c=Is.Qd,d=e.length>c,u=e.length-(c-1),m=e.slice(0,d?c-1:c);return(0,O.jsx)(Es.N,{to:n,pathname:e.length>1?n:void 0,state:{uri:a},className:_s,onClick:()=>i.send((0,ws.x)({leavebehind_request_id:e[0].requestId,event:"event_clicked",event_reason:"cta_see_all",surface:(0,Rs.Fh)(s),uri:a})),"data-testid":"show-leavebehinds-container",children:(0,O.jsx)(Ma.v,{layout:"wide",variant:"tinted",size:"xl",id:"show-leavebehinds",title:(0,O.jsxs)("div",{className:As,"data-testid":"show-leavebehinds-logos-container",children:[m.map((e=>(0,O.jsx)(Ps.C,{"data-testid":"show-leavebehind-image",src:e.displayImage.src,alt:e.displayImage.alt,imageHeight:Bs,imageWidth:Bs},e.adId))),d?(0,O.jsx)(Ts,{"data-testid":"show-leavebehinds-more-count-indicator",variant:"tinted",minBlockSize:Bs,borderRadius:"4px",padding:"6px",children:(0,O.jsx)(p.E,{variant:"bodyMedium","data-testid":"show-leavebehinds-more-count-indicator-text",children:l.Ru.get("podcast-ads.show_more_indicator",u)})}):null]}),body:(0,O.jsx)(Ms,{leavebehinds:e})})})};var Ts=(0,ks.Ay)(Ss.a).withConfig({displayName:"LeavebehindsPreview___StyledBox",componentId:"sc-qakd80-0"})({backgroundColor:"#121212",width:"40px",display:"flex",alignItems:"center",justifyContent:"center"}),Ds=s(50725);const Ls=Rs.ui.SHOW_PAGE;function Us({uri:e}){const{data:a,error:s,getLeavebehinds:i}=(0,Ds.A)({surface:Ls,uri:e});(0,t.useEffect)((()=>{i()}),[i]);const r=(0,t.useMemo)((()=>a?(0,Is.iT)(a,e):[]),[a?.requestId]);return s||a?.leavebehindAds&&a?.leavebehindAds?.length<1?null:(0,O.jsx)(Fs,{leavebehinds:r,uri:e,surface:Ls})}var Os=s(57026),zs=s(24174),Vs=s(75270),Hs=s(51830),qs=s(96570);const Gs=({className:e,title:a,uri:s})=>{const{data:t}=(0,Vs.v)({uri:s},{gcTime:9e5,staleTime:3e5}),i=t?.seoRecommendedPodcast.totalCount;if(0===i)return null;const r=t?.seoRecommendedPodcast.items,n=function(e){return(e||[]).filter((e=>(0,Hs.K)(e.data)))}(r),c=(0,o.o_h)(s)?.id;return(0,O.jsx)(T.$,{className:e,title:a,seeAllLabel:l.Ru.get("shelf.see-all"),total:i,alwaysShowSeeAll:!0,seeAllUri:`spotify:app:show:${c}:more-like-this`,children:n?.map((({data:e},a)=>(0,O.jsx)(zs.o,{uri:e.uri,name:e.name,images:e.coverArt?.sources||[],publisher:e.publisher?.name??"",sharingInfo:null,mediaType:(0,qs.w)(e.mediaType),index:a},e.uri)))})},Ws=e=>{const a=(0,F.D)({entityType:U.c.SHOW,componentType:"shelf",uri:e.uri});return(0,O.jsx)(M.s,{onError:a,children:(0,O.jsx)(Gs,{...e})})};var $s=s(70127),Ks=s(57757),Qs=s(79775),Xs=s(1043),Ys=s(92812);const Js=(0,t.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),Zs=t.memo((function({uri:e,children:a}){return(0,O.jsx)(Ys.E,{uri:e,defaultState:[],sortContext:Js,localStorageKey:"showFilterParams-v2",children:a})}));var et=s(42454);const at={field:et.WY.PUBLISH_DATE,order:et.AX.DESC},st={field:et.WY.PUBLISH_DATE,order:et.AX.ASC},tt=st,it={episodic:at,sequential:st,recent:at};function rt(){return new Map([[at,{key:"newest-to-oldest",value:l.Ru.get("shows.sort.newest-to-oldest")}],[st,{key:"oldest-to-newest",value:l.Ru.get("shows.sort.oldest-to-newest")}]])}function nt(e){return it[e]}const ot=(0,t.createContext)({setSortState:()=>{throw new Error("setSortState must be used within a ShowSortProvider")},sortState:nt("recent")}),lt=e=>{const a=rt();return Array.from(a.keys()).some((({field:a})=>a===e?.field))},ct=t.memo((function({uri:e,children:a,defaultSortParam:s}){return(0,O.jsx)(Ys.E,{uri:e,defaultState:s,sortContext:ot,localStorageKey:"showSortParam",validator:lt,children:a})}));var dt=s(66705),ut=s(88308);const mt="ysJC093hc_2ixGCy40_s",ht="mJP3Bamg3hN7S0p7XKfN",pt="clPqCj1L_KSfoVuTuP6x",gt="vqQmhCMZq7eUtTV7YYOQ",xt=t.memo((function({showMetadata:e,usePlayContextItem:a}){const{sortState:s}=(0,t.useContext)(ot),{sortState:i}=(0,t.useContext)(Js),r=function(e,a,s){const t=(0,Za.T)(),{canSort:i}=t.capabilities,r=(0,ut.U0)((async(i,r)=>t.getContents(e,{offset:i,limit:r,sort:a,filters:s})),[t,e,a,s]),n=(0,ut.U0)((async(a,s)=>t.getContents(e,{offset:a,limit:s})),[t,e]);return i?r:n}(e.uri,s,i),n=(0,dt.c)(),o=n?6:50,[c,d]=(0,t.useState)(o),u=(0,t.useCallback)((async(e,a)=>{const s=await r(e,a);return{items:s.items,totalLength:s.totalCount}}),[r]),{getItems:m,nrValidItems:h}=(0,Ja.E)({fetch:u,nrItems:o,limit:50}),g=(0,t.useCallback)((()=>{d((e=>e+o))}),[o]),x=n&&h>c;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Qs.R,{"aria-rowcount":h,"aria-colcount":6,firstInteractiveIsWrapper:!0,children:(0,O.jsx)(Ya._,{onReachBottom:n?void 0:g,children:m(0,c-1).map(((s,t)=>s&&(0,O.jsx)(Xs.W,{"aria-posinset":t+1,children:(0,O.jsxs)("div",{className:ht,children:[(0,O.jsx)("hr",{className:mt,"aria-hidden":!0}),(0,O.jsx)(Ks.q,{index:t,episode:s,showMetadata:e,usePlayContextItem:a},`${s.uri}/${t}`)]})},`${t}${s.uri}`)))})}),x&&(0,O.jsx)("div",{className:pt,children:(0,O.jsxs)(Aa.v,{onClick:()=>{g()},className:gt,children:[(0,O.jsx)(p.E,{variant:"bodySmallBold",children:l.Ru.get("internal-link-recommender.load-more-episodes")}),(0,O.jsx)(_a.V,{size:"xsmall"})]})})]})}));var yt=s(65907);const bt={field:et.K$.ISPLAYED,operator:et.uj.EQUALS,value:!1},jt={field:et.K$.STARTEDPLAYING,operator:et.uj.GREATER_THAN,value:0};const vt="all-episodes",ft=({onFilter:e})=>{const{sortState:a,setSortState:s}=(0,t.useContext)(Js),i=new Map([[bt,{key:"is-played",value:l.Ru.get("shows.filter.unplayed")}],[jt,{key:"started-playing",value:l.Ru.get("shows.filter.in-progress")}]]),r=Array.from(i.values());r.unshift({key:vt,value:l.Ru.get("mwp.podcast.all.episodes")});const n=Array.from(i.keys()),o=(0,t.useCallback)((a=>{if(a===vt)s([]);else{const e=n.find((e=>i.get(e)?.key===a));e&&s([e])}e()}),[e,s,n,i]);if(!i.size||!n)return null;let c=r[0];const d=Array.from(i.entries()).filter((e=>a?.some((a=>a.field===e[0].field&&a.operator===e[0].operator))));return d.length>0&&(c=d[0][1]),(0,O.jsx)(yt.g,{options:r,onSelect:e=>o(e),selected:c,variant:"bodyMediumBold",semanticColor:"textBase",heading:l.Ru.get("drop_down.filter_by")})},Ct=({onSort:e})=>{const{sortState:a,setSortState:s}=(0,t.useContext)(ot),i=rt(),r=Array.from(i.values()),n=Array.from(i.keys()),o=(0,t.useCallback)((a=>{const t=n.find((e=>i.get(e)?.key===a));t&&s(t),e()}),[n,e,i,s]);if(!i.size||!a)return null;const c=Array.from(i.keys()).find((e=>e.field===a.field&&e.order===a.order));if(!c)return null;const d=i.get(c);return d?(0,O.jsx)(yt.g,{options:r,onSelect:e=>o(e),selected:d,heading:l.Ru.get("drop_down.sort_by")}):null},kt="jVWq1orbpiIK34UFHkFb",Pt="gYTsg8kvcGmu41_lilIb",St="GMHh7OED_Nijo4zzSfrb",wt="sNEwCEh44Lapg36PnVFw",Rt="SoIsw3P_1RnUtFBHs_2d",Nt="OMG3QMzpwer8oWsiJpzs",It="r0yVSge7A1iSTNfudfyV",Et="yP6EeRtQJeqKq10IsMxn",At="MIaGJ1KyQ3JLblOjWL19",_t="p8WHC1qBUrwrBwzp_vYY",Bt="Uzyuaxpkm_Gwb6jOGbva",Mt="TSNj_F4gGzCuxrzx6n98",Ft="E4HX0M3aD0MY5dUCKSCb",Tt="CbSqM7wDwoLFnyIo1iKL",Dt="c0h80mSMc3PkNlHX0DYs",Lt="SGGetEMTKgQk1aJvG4k9",Ut="ne3ntrWAoMrE6_4A23Mf",Ot=({spec:e})=>{const a=(0,pe.s)(),{canSort:s,canFilter:i}=(0,Za.T)().capabilities,r=(0,t.useCallback)((()=>{a.logInteraction(e.episodeListFactory().filterButtonFactory().hitFilter())}),[a,e]),n=(0,t.useCallback)((()=>{a.logInteraction(e.episodeListFactory().sortButtonFactory().hitSort())}),[a,e]);return(0,O.jsxs)("div",{className:Et,children:[i&&(0,O.jsx)("div",{className:_t,children:(0,O.jsx)(ft,{onFilter:r})}),!i&&(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Bt,children:l.Ru.get("mwp.podcast.all.episodes")}),s&&(0,O.jsx)("div",{className:At,children:(0,O.jsx)(Ct,{onSort:n})})]})};var zt=s(81663),Vt=s(73967),Ht=s(64720),qt=s(37288),Gt=s(5408);const Wt=({breakpoint:e,metadata:a,spec:s})=>{const{uri:i,trailer:n,topics:o,description:c,htmlDescription:d,rating:u}=a,g=(0,zt.N)(i),x=(0,pe.s)(),{spec:y,logger:j}=(0,oa.r)(r.R,{data:{uri:i}}),f=(0,t.useMemo)((()=>y.aboutSectionFactory()),[y]),C=(0,t.useMemo)((()=>s.episodeListFactory()),[s]),k=(0,h.wA)(),P=(0,w.V)(),{sortState:S}=(0,t.useContext)(Js),R=(0,Za.T)(),N=(0,dt.c)(),{usePlayContextItem:I}=(0,ps.P)({uri:i,metadata:{[qt.W.SORTING_CRITERIA]:R.getPlayerSort(tt),[qt.W.FILTERING_PREDICATE]:R.getPlayerFilter(S)}},{featureIdentifier:"show"}),{isActive:E,isPlaying:A,togglePlay:_}=I({uri:n?.uri||""}),B=(0,t.useCallback)((e=>{const a=s.aboutSectionFactory().seeMoreButtonFactory(),t=e?a.hitUiReveal():a.hitUiHide();x.logInteraction(t)}),[x,s]),M=(0,t.useCallback)(((e,a)=>{const t=s.aboutSectionFactory().topicFactory(a).hitUiNavigate({destination:a.uri});x.logInteraction(t)}),[x,s]),F=n?{name:n.name,uri:n.uri,audio:{items:n.audio.items.map((e=>({url:e.url})))}}:null,T=(0,Ks.B)(a),D=(0,Vt.C)(F,T),L=(0,t.useCallback)((()=>{n?.uri&&(P?D():_())}),[D,P,_,n?.uri]),{ref:U,breakpoint:z}=(0,Ht.x)({[Sa.E.MEDIUM]:0,[Sa.E.LARGE]:600}),V=o.length>0,q=c||d,G=q||V;return(0,O.jsxs)("div",{className:m()(kt,"contentSpacing",{[St]:e===Sa.E.LARGE}),ref:U,children:[(0,O.jsx)($s.q,{className:Pt,gatedEntityCoverArt:a.gatedEntityCoverArt,gatedEntityRelations:a.gatedEntityRelations,upsellExplanation:a.upsellExplanation,hasAccess:a.hasGatedEntityRelationAccess,showCoverArt:!0}),(0,O.jsxs)("div",{className:wt,children:[G&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(p.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:Bt,children:l.Ru.get("artist.about")}),q&&(0,O.jsx)(he.N,{maxLines:4,content:(c||"").trim(),onExpanded:B,htmlContent:d||void 0}),n&&(0,O.jsx)(da.h,{menu:(0,O.jsx)(Os.b,{uri:n.uri,showUri:i,sharingInfo:n.sharingInfo}),children:(0,O.jsx)(me,{label:l.Ru.get("track-trailer"),className:Mt,images:n.coverArt,title:n.name,duration:n.duration.milliseconds,moreButton:(0,O.jsx)(v.b,{menu:(0,O.jsx)(Os.b,{uri:n.uri,sharingInfo:n.sharingInfo,showUri:i}),children:(0,O.jsx)(Fa.e,{})}),onClick:L,isPlaying:A,isActive:E,size:ue.LARGE,contentRating:n.contentRating?.label})}),(0,O.jsxs)("div",{className:Tt,children:[u&&!g&&(0,O.jsx)("div",{className:Dt,children:(0,O.jsx)(ms,{rating:u,onClick:()=>{const e=f.ratingButtonFactory().hitUiReveal();j.logInteraction(e),k((0,b.eH)(i,a))}})}),V&&(0,O.jsx)(H.N,{topics:o,className:Lt,onClick:M})]})]}),(0,O.jsx)(Us,{uri:i})]}),(0,O.jsx)(wa.o.Provider,{value:z,children:(0,O.jsxs)("div",{className:m()(Nt,{[It]:N}),"data-testid":"show-all-episode-list",children:[(0,O.jsx)(Ot,{spec:s}),(0,O.jsx)(Gt.r,{spec:C,children:(0,O.jsx)(xt,{showMetadata:a,usePlayContextItem:I})})]})}),(0,O.jsx)(ns.Z,{copyrights:[]}),(0,O.jsx)("div",{className:Rt,children:N&&(0,O.jsx)(Ws,{title:l.Ru.get("internal-link-recommender.more-podcasts-like-this"),uri:i,className:Ut})})]})},$t=t.memo(Wt);var Kt=s(74689),Qt=s(3278);const Xt=({reason:e})=>{const a=function(e){switch(e){case"OTP":return l.Ru.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.Ru.get("podcasts.subscriber-indicator.subscription");default:return""}}(e);return a?(0,O.jsx)(p.E,{variant:"bodySmall",semanticColor:"textBase",className:Ft,children:a}):null};const Yt=({metadata:e,backgroundColor:a})=>{const{uri:s,coverArt:t,name:i,podcastType:r,publisherName:n,gatedContentAccessReason:o}=e,c=(0,O.jsx)(vs.H,{uri:s});return(0,O.jsxs)(ha.z,{backgroundColor:a,children:[(0,O.jsx)(xa.h,{children:(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)(ya.X,{text:i,dragUri:s,dragLabel:i})})}),(0,O.jsx)(Kt.X,{children:(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)(Qt.b,{loading:"eager",name:i,images:t,placeholderType:"show",shape:Qt.u.SQUARE})})}),(0,O.jsxs)(ga.Y,{children:[(0,O.jsxs)(ja.B,{children:["SHOW"===r?l.Ru.get("type.show"):l.Ru.get("type.podcast"),o&&(0,O.jsx)(Xt,{reason:o})]}),(0,O.jsx)(da.h,{menu:c,children:(0,O.jsx)(fa.mm,{dragUri:s,dragLabel:i,scaleAtMinWidth:fa.tw,children:(0,O.jsx)("span",{"data-testid":"show-title",children:i})})}),(0,O.jsx)(va.g,{children:n})]})]})};var Jt=s(65632),Zt=s(5056),ei=s(3984);const ai=({metadata:e,showId:a})=>{const{coverArt:s,name:i,uri:n,isSaved:o}=e,{spec:l}=(0,oa.r)(r.R,{data:{uri:n}}),d=(0,t.useMemo)((()=>l.actionBarFactory()),[l]),u=(0,rs.H)(s[0]?.url||null),m=(0,wa.y)();return(0,O.jsxs)("section",{children:[(0,O.jsx)(c.Q,{children:(0,xs.hV)({showOrAudiobookName:i,type:"Podcast"})}),(0,O.jsx)(is.c,{artistOrShow:i,uri:n,entityType:is.p.PODCAST}),(0,O.jsx)(Yt,{metadata:e,backgroundColor:u}),(0,O.jsx)(Cs,{uri:n,name:i,isSaved:o,backgroundColor:u,spec:d}),(0,O.jsx)($t,{breakpoint:m,metadata:e,showId:a,spec:l})]})},si=(0,t.memo)((function(){const{showId:e=""}=(0,i.g)(),a=`spotify:show:${e}`,{data:s,error:r,redirectUri:c}=(0,We.W)(a);if(c){const e=(0,o.Lce)(c);return(0,O.jsx)(js.$,{to:e.toURLPath(!0)})}const u=s&&(0,es.Go)(s);return!s||r?r instanceof ei.W?(0,O.jsx)(d.LoadingPage,{hasError:!0,errorMessage:l.Ru.get("error-page.not-available-in-region.title")}):(0,O.jsx)(d.LoadingPage,{hasError:!!r,errorMessage:l.Ru.get("error.not_found.title.page")}):u?(0,O.jsx)(t.Suspense,{fallback:null,children:(0,O.jsx)(Jt.u,{pageId:n.$h.PODCAST_SHOW_AUDIOBOOK,uri:a,children:(0,O.jsx)(Zt.d,{dynamicColors:s.dynamicColors,children:(0,O.jsx)(bs,{metadata:s},`${!!s.consumptionCapExplanation}`)})})}):(0,O.jsx)(t.Suspense,{fallback:null,children:(0,O.jsx)(Jt.u,{pageId:n.$h.PODCAST,uri:a,children:(0,O.jsx)(Zs,{uri:s.uri,children:(0,O.jsx)(ct,{uri:s.uri,defaultSortParam:nt(s.consumptionOrder),children:(0,O.jsx)(Zt.d,{dynamicColors:s.dynamicColors,children:(0,O.jsx)(ai,{showId:e,metadata:s})})})})})})}))},39583:(e,a,s)=>{s.d(a,{j:()=>w});var t=s(27625);const i="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",n="pklLPOhfigdytL9bPoth",o="sb24Y8kdMZInJ8aI8dXT";var l=s(86070);function c({ariaValueText:e,max:a,current:s}){const t=a&&s?100*Math.min(1,s/a):0,c={transform:`translateX(-${100-t}%)`},d=e||`${Math.round(t)}%`;return(0,l.jsxs)("div",{className:i,role:"progressbar",tabIndex:0,"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":a,"aria-valuetext":d,children:[(0,l.jsx)("div",{className:r}),(0,l.jsx)("div",{className:n,children:(0,l.jsx)("div",{"data-testid":"progressBarFg",className:o,style:c})})]})}const d="qfYkuLpETFW3axnfMntO",u="_q93agegdE655O5zPz6l",m="z7Yl7CIT1AB0y91f_moh",h="iLIlkUcfIq56KncGtX7u",p="nV50yZ6BR_TIuWP3l7b1",g="qLjIx_SzBEpDRA_q7kxQ";var x=s(98715),y=s(71926),b=s(17160),j=s(97500),v=s.n(j),f=s(60858),C=s(1894),k=s(23763);const P="xWm_uA0Co4SXVxaO7wlB",S=({durationMs:e,className:a,displaySeconds:s})=>{const{hours:t,minutes:i,seconds:r}=(0,C.S)(e);s=!1!==s&&!t&&r;const n=(0,k.j)({h:t,m:i,s:s?r:0});return n?(0,l.jsx)("span",{className:v()(P,a),children:b.Ru.get("time.left",n)}):null},w=e=>{const{resumePositionMs:a=0,releaseDate:s,isPlaying:i,fullyPlayed:r,durationMs:n,position:o=a,compactVariant:j=!1,className:C,progressBarClassName:k,progressStateClassName:P,releaseDateClassName:w}=e,R=s&&s.isoString?(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:u,children:(0,t.V2)((0,t.ad)(s.isoString),s.precision)}):null,N=(()=>{if(0===n)return null;if(r&&!i)return(0,l.jsxs)("div",{className:v()(h,P),children:[(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:b.Ru.get("episode.audiobook.chapter.finished")}),(0,l.jsx)(y.i,{size:"small",className:g,"aria-hidden":"true"})]});if(o>0||i){const e=Math.ceil(Math.max(n-o,0));return(0,l.jsx)("div",{className:v()(h,P),children:(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:m,children:(0,l.jsx)(S,{durationMs:e,displaySeconds:!j&&void 0})})})}return(0,l.jsx)(x.E,{as:"p",variant:"bodySmall",className:v()(u,w),"data-testid":"episode-progress-not-played",children:(0,l.jsx)(f.d,{durationMs:n,displaySeconds:!j&&void 0})})})(),I=0===n?null:!r&&o>0||i?(0,l.jsx)("div",{className:v()(p,k),children:(0,l.jsx)(c,{current:o,max:n})}):null;return R||N||I?(0,l.jsxs)("div",{className:v()(d,C),children:[R,N,I]}):null}},47814:(e,a,s)=>{s.d(a,{W:()=>i});var t=s(30758);const i=()=>{const[e,a]=(0,t.useState)(!1);return{isOpen:e,openModal:(0,t.useCallback)((()=>a(!0)),[]),closeModal:(0,t.useCallback)((()=>a(!1)),[])}}},51830:(e,a,s)=>{s.d(a,{K:()=>t});const t=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Podcast"===e.__typename;var a}},57288:(e,a,s)=>{s.d(a,{K:()=>x});var t=s(30758),i=s(25748),r=s(17160),n=s(21932),o=s(12442),l=s(86787);const c="bhvAemcPYUmxOdBe1mVi",d="hmgHdasWrZaA9tiXVw_u",u="RmbxUFLb4j9KmgftJyk1",m="boNCdFnbh9y0PBweIDUt",h="LfQtKa295FPgk8VuZRfD",p="Oytey9nANMtSDKSmZpJ6";var g=s(86070);const x=t.memo((function(e){const{images:a,title:s,isOpen:x,onClose:y}=e,b=(0,t.useMemo)((()=>(0,l.g)(a,{desiredSize:1e4})),[a]);return b?(0,g.jsx)(n.A,{className:c,isOpen:x,onRequestClose:y,animation:{modal:{base:m,afterOpen:h,beforeClose:p}},animated:!0,children:(0,g.jsxs)("div",{style:{"--image-width":`${b.width}px`,"--image-height":`${b.height}px`},className:d,children:[(0,g.jsx)(o._,{loading:"eager",alt:s,src:b.url,className:u}),(0,g.jsx)(i.H,{onClick:y,semanticColor:"textBase",children:r.Ru.get("web-player.cover-art-modal.close")})]})}):null}))},57757:(e,a,s)=>{s.d(a,{B:()=>N,q:()=>E});var t=s(30758),i=s(62411),r=s(86855),n=s(64871),o=s(36866),l=s(89781),c=s(67785),d=s(57026),u=s(85796),m=s(68912),h=s(1068),p=s(42421),g=s(81663),x=s(83898),y=s(35287),b=s(66705),j=s(73967),v=s(8193),f=s(37788),C=s(57736),k=s(24346),P=s(47900),S=s(7474),w=s(55921),R=s(86070);function N(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const I=e=>`activation-trigger-mme-${e}`,E=t.memo((function({index:e=-1,showMetadata:a,episode:s,usePlayContextItem:E}){const A=(0,b.c)(),_=s.playedState.playPositionMilliseconds,B=s.uri,M=(0,t.useRef)(null),F=(0,g.N)(a.uri),{draggable:T,onDragStart:D}=(0,x.P)(),L=(0,y.V)(),U=(0,v.y)(),O=(0,i.wA)(),{UBIFragment:z,spec:V,logger:H}=(0,P.r)(r.d,{data:{uri:B,reason:s.requestId||"",position:e}}),q=(0,k.t)(V),{isActive:G,isPlaying:W,togglePlay:$}=E({uri:B}),[K]=(0,f.S)(1e4,(e=>e?.item?.uri===B)),{isFullyPlayed:Q,setIsFullyPlayed:X}=(0,C.e)({uri:B,durationMs:s.duration.milliseconds,episodePlaybackState:s.playedState?.state,isPlaying:W});(0,t.useEffect)((()=>{W&&(M.current=K)}),[W,K]),(0,t.useEffect)((()=>{!W&&M.current&&s.duration.milliseconds<=M.current&&X(!0)}),[W,s.duration.milliseconds,X]);const Y=(0,t.useCallback)((e=>{e||(M.current=0),X(e)}),[X]),J=N(a),Z=(0,j.C)({...s,coverArt:{sources:s.coverArt}},J),ee=(0,t.useCallback)((()=>{if(s.episodeType===S.I_.Episode&&A)m.h.set((()=>({triggerId:I(s.uri),triggerAction:null})));else if(L)Z();else{let e;e=W?V.playButtonFactory().hitPause({itemToBePaused:B}):G?V.playButtonFactory().hitResume({itemToBeResumed:B}):V.playButtonFactory().hitPlay({itemToBePlayed:B});const a=H.logInteraction(e);$({loggingParams:a})}}),[G,Z,$,B,W,L,s,A,H,V]),ae=(0,t.useCallback)((()=>{H.logInteraction(V.hitUiNavigate({destination:B}))}),[B,H,V]),se=s.podcastSubscription?.isPaywalled??!1,te=s.podcastSubscription?.isUserSubscribed??!1,ie=se&&!te,re=se&&L,{badges:ne}=(0,w.b)({contentRating:s.contentRating?.label,isPaywalled:se}),oe=(0,t.useCallback)((()=>O((0,o.Tf)(a.uri))),[a.uri,O]),le=(0,t.useCallback)((e=>{let t=e;return(ie||re)&&(t=(0,R.jsx)(h.N,{enabled:!0,showUri:s.podcast?.uri||a.uri,renderInline:!1,children:t})),!s.playability.playable&&ne.nineteen&&(t=(0,R.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),t=(0,R.jsx)(l.k,{id:I(B),targetURI:(0,n.o_h)(B),children:t}),t}),[B,ie,re,a.uri,ne.nineteen,s.playability.playable,oe,s.podcast?.uri]);return(0,R.jsx)(z,{spec:V,children:(0,R.jsx)(c.h,{onShow:()=>{H.logInteraction(V.secondaryHitUiReveal())},menu:(0,R.jsx)(d.b,{uri:B,showUri:a.uri,sharingInfo:s.sharingInfo,isPlayed:Q,onMarkAsPlayed:Y}),children:(0,R.jsx)(u.k,{ref:q,requestId:s.requestId,index:e,uri:B,size:U,images:s.coverArt||[],name:s.name,showName:s.podcast?.name||a.name,description:s.description,isPlayable:s.playability.playable||ie,fullyPlayed:Q,durationMs:s.duration.milliseconds,releaseDate:s.releaseDate,resumePositionMs:M.current??_,draggable:T,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${s.name}  ${a.name}`;D(e,{itemUris:[B],dragLabelText:t,contextUri:a.uri})},handlePlaybackClick:ee,handleClick:ae,isCurrentlyPlaying:G,isPaywalled:se,isUserSubscribed:te,isCourseLesson:F,isPlaying:W,position:W?K:void 0,episodeSharingInfo:s.sharingInfo,onMarkAsPlayed:Y,contentInformation:s.contentInformation,showUri:s.podcast?.uri||a.uri,mediaTypes:s.mediaTypes??void 0,badges:(0,R.jsx)(p.P,{episode:s}),playButtonWrapper:le,onMoreButtonClick:()=>{H.logInteraction(V.moreButtonFactory().hitUiReveal())}})})})}))},60858:(e,a,s)=>{s.d(a,{d:()=>c});var t=s(97500),i=s.n(t),r=s(1894),n=s(23763);const o="UyzJidwrGk3awngSGIwv";var l=s(86070);const c=({durationMs:e,className:a,displaySeconds:s})=>{const{hours:t,minutes:c,seconds:d}=(0,r.S)(e);return s=!1!==s&&!t&&d,(0,l.jsx)("span",{className:i()(o,a),children:(0,n.j)({h:t,m:c,s:s?d:0})})}},62341:(e,a,s)=>{s.d(a,{a:()=>t});const t=e=>(e||[]).filter((e=>(e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Audiobook"===e.__typename;var a})(e.data)))},63203:(e,a,s)=>{function t(e){const a=new Date;return(e instanceof Date?e:new Date(e)).getTime()-a.getTime()}s.d(a,{u:()=>t})},72859:(e,a,s)=>{s.d(a,{r:()=>n});var t=s(44461),i=s(54580);const r=Spicetify.GraphQL.Definitions["similarAudiobooks"]=new t.l("similarAudiobooks","query","d62da1bbf5859e5a156da1f52ce21a73a642f925db717a179fd89626b27a80b8",null),n=(e,a)=>(0,i.I)(r,e,a)},75270:(e,a,s)=>{s.d(a,{v:()=>n});var t=s(44461),i=s(54580);const r=Spicetify.GraphQL.Definitions["internalLinkRecommenderShow"]=new t.l("internalLinkRecommenderShow","query","6c369ff272a666b31fef1629c169925a1bd80f372195396c82304142cacd89e8",null),n=(e,a)=>(0,i.I)(r,e,a)},86559:(e,a,s)=>{s.d(a,{h:()=>u});var t=s(30758),i=s(68912),r=s(69270),n=s(35287),o=s(96083),l=s(42978);var c=s(87629),d=s(86070);const u=({children:e,action:a,uri:s})=>{const u=(0,n.V)(),m=(0,l.N)(o.JD);let h;const p=()=>{const e={triggerId:r.d,triggerAction:{type:a}};i.h.set((a=>({...a,...e}))),m.storeAction(o.j8,{operation:c.tS.ADD,uris:[s]})};try{h=t.Children.only(e)}catch(a){return(0,d.jsx)(d.Fragment,{children:e})}return u?t.cloneElement(h,{onClick:p}):(0,d.jsx)(d.Fragment,{children:e})}},88376:(e,a,s)=>{s.d(a,{O:()=>d});var t=s(30758),i=s(17160),r=s(28156),n=s(42400);const o="IIKJOrbx5pjNtg3gpI0H";var l=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,n.H)()&&a?.length?a.map((({uri:e,name:a},n)=>(0,l.jsxs)(t.Fragment,{children:[n?i.Ru.getSeparator():null,e?(0,l.jsx)(r.N,{to:e,className:o,children:s(a)},n):s(a)]},n))):s(e)},88399:(e,a,s)=>{s.d(a,{X:()=>i});var t=s(74610);function i(e){return[t.kw.YES,t.kw.DOWNLOADING,t.kw.WAITING].includes(e)}},97444:(e,a,s)=>{s.d(a,{Z:()=>n});var t=s(10814);const i="rTMkDBDp47Eo12ZEQv4U";var r=s(86070);const n=({copyrights:e,courtesyLine:a})=>{const s=(e||[]).map(((e,a)=>{if(e.untyped)return(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},a);const s=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(\s+)/,"").replace(/^(\s+)/,"");let i;return i="C"===e.type?"":"P"===e.type?"":`(${e.type})`,(0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:`${i} ${s}`},a)}));return a&&s.unshift((0,r.jsx)(t.Z,{as:"p",variant:"finale",dir:"auto",children:a},s.length)),(0,r.jsx)("div",{className:i,children:s})}}}]);
//# sourceMappingURL=xpui-routes-show.js.map