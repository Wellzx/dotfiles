"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2205],{40221:(t,r,e)=>{e.d(r,{PlaylistFormatRedirectWithParams:()=>R});var o=e(30758),n=e(85387),s=e(64871),i=e(17160),l=e(58244),u=e(4164),a=e(91843),c=e(26096),f=e(86070);const y="auth_redirect",p="spotify:concerts";function h(t,r){return r?`spotify:playlist-format:${t}:${r}`:`spotify:playlist-format:${t}`}const m={uri:null,error:null};function d(t,r){switch(r.type){case"SUCCESS":return{...t,uri:r.uri};case"FAILURE":return{...t,...r};default:throw new Error}}const w=({isAnonymous:t,playlistFormatURI:r})=>{const e=(0,a.m)(),[n,h]=(0,o.useReducer)(d,m);if((0,o.useEffect)((()=>{t&&window.location.hash!==`#${y}`?(window.location.hash=y,(0,c.PW)()):e.resolvePlaylistFormatURI(r).then((t=>h({type:"SUCCESS",uri:t}))).catch((t=>h("spotify:playlist-format:concerts-near-you"===r?{type:"FAILURE",error:t,uri:p}:{type:"FAILURE",error:t})))}),[e,t,r,h]),n.uri===p)return(0,f.jsx)(u.$,{to:"/concerts"});if(null!==n.uri){const t=function(t){const r=(0,s.o_h)(t);return r?.id}(n.uri);return(0,f.jsx)(u.$,{to:`/playlist/${t}`})}return(0,f.jsx)(l.LoadingPage,{hasError:null!==n.error,errorMessage:i.Ru.get("error.not_found.title.playlist"),timeoutInMs:5e3})},R=o.memo((function({isAnonymous:t}){const{title:r="",category:e}=(0,n.g)();return(0,f.jsx)(w,{isAnonymous:t,playlistFormatURI:h(r,e)})}))}}]);
//# sourceMappingURL=xpui-playlist-format-redirect-with-params.js.map