"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[2630,3569],{9510:(e,a,s)=>{s.d(a,{y:()=>r});var t=s(30758),n=s(41734);function r(){const e=(0,n.A)(),[a,s]=(0,t.useState)(e.getIsEnabled());(0,t.useEffect)((()=>{const a=e.subscribeIsEnabled(s);return()=>a()}),[e]);return[a,(0,t.useCallback)((a=>e.setIsEnabled(a)),[e])]}},9767:(e,a,s)=>{s.d(a,{M:()=>N});var t=s(30758),n=s(97500),r=s.n(n),i=s(62411),l=s(98715),o=s(31863),c=s(1578),d=s(33100),u=s(17160),m=s(96422),g=s(54505),x=s(14238),h=s(38340),f=s(20086),p=s(35918),j=s(67785),b=s(32059),y=s(59682),I=s(88376),v=s(45889),C=s(72540),S=s(27625);const k="udGpsOceE80fzjUaGxkU",w="wMX24UZ671wvuRJkkUOC";var P=s(86070);const A=({isPreRelease:e,publishDate:a})=>e&&a?("string"==typeof a&&(a=new Date(a)),(0,P.jsx)(l.E,{variant:"bodySmall",semanticColor:"textSubdued",children:(0,P.jsx)("span",{children:u.Ru.get("web-player.prerelease.releases_on",{date:u.Ru.formatDate((0,S.ad)(a.toISOString()),(0,S.s7)({month:"long",day:"numeric",year:"numeric"}))})})})):null,R=({signifierText:e})=>e?(0,P.jsx)(l.E,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e}):null,N=({name:e,uri:a,images:s,authorName:n,authors:S,isHero:N,className:O,onClick:E,testId:T,index:H,requestId:M,isLocked:z=!1,isPlayable:L=!1,color:D,signifierText:U,isPreRelease:_=!1,publishDate:B,variant:F,consumptionCapExplanation:K,logCardImpressions:q=!1})=>{const{playUri:Z,playOptions:W}=(0,v.J)(a),J=(0,i.wA)(),Q=(0,d.NC)(C.HJU),V=!!K,$=(0,P.jsx)(I.O,{authorName:n,authors:S}),G=(0,t.useCallback)((()=>{V&&J((0,m._3)(K))}),[K,J,V]);let X;return X=N?(0,P.jsx)(f.A,{className:O,index:H,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playOptions:W,onPlay:V?G:void 0,delegatePlayback:V,isPlayable:(L||V)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(x.M,{isHero:!0,images:s,color:D,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.t,{children:u.Ru.get("card.tag.audiobook")}),(0,P.jsx)(l.E,{variant:"bodySmall",children:$})]}),getSignifierContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(A,{isPreRelease:_,publishDate:B}),(0,P.jsx)(R,{signifierText:U})]}),testId:T,requestId:M,logCardImpressions:q}):(0,P.jsx)(g.Z,{className:O,variant:F,index:H,onClick:E,headerText:e,featureIdentifier:"audiobook",uri:a,playUri:Z,onPlay:V?G:void 0,delegatePlayback:V,playOptions:W,isPlayable:(L||V)&&Q,ariaPauseLabel:u.Ru.get("tracklist.a11y.pause",e,n),ariaPlayLabel:u.Ru.get("tracklist.a11y.play",e,n),dragMimeType:y.fl.AUDIOBOOKS,renderCardImage:()=>(0,P.jsx)(x.M,{images:s,color:D,FallbackComponent:e=>(0,P.jsx)(o.l,{size:"xxlarge",...e})}),renderSubHeaderContent:()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(h.c,{lineClamp:U?1:2,children:[z&&(0,P.jsx)(c.y,{size:"small",className:k}),(0,P.jsx)(A,{isPreRelease:_,publishDate:B}),(0,P.jsx)(l.E,{as:"span",variant:"bodySmall",className:r()({[w]:_&&n}),children:$})]}),(0,P.jsx)(R,{signifierText:U})]}),testId:T,requestId:M,logCardImpressions:q}),(0,P.jsx)(j.h,{menu:(0,P.jsx)(b.p,{uri:a}),children:X})}},24174:(e,a,s)=>{s.d(a,{o:()=>g});var t=s(17160),n=s(54505),r=s(14238),i=s(38340),l=s(20086),o=s(35918),c=s(67785),d=s(34123),u=s(99772),m=s(86070);const g=({images:e,name:a,uri:s,publisher:g,sharingInfo:x,mediaType:h,isHero:f=!1,onClick:p,testId:j,index:b,requestId:y,color:I,variant:v,logCardImpressions:C=!1})=>{let S;const k=h===u.Q.MIXED?t.Ru.get("type.show"):t.Ru.get("card.tag.show");return S=f?(0,m.jsx)(l.A,{index:b,onClick:p,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,isPlayable:!1,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:!0,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsxs)(i.c,{isHero:!0,children:[(0,m.jsx)(o.t,{children:k}),g&&(0,m.jsx)("span",{children:g})]}),testId:j,requestId:y,logCardImpressions:C}):(0,m.jsx)(n.Z,{variant:v,onClick:p,isPlayable:!1,delegatePlayback:!0,headerText:a,featureIdentifier:"show",uri:s,index:b,renderCardImage:()=>(0,m.jsx)(r.M,{isHero:f,images:e,color:I}),renderSubHeaderContent:()=>(0,m.jsx)(i.c,{children:g&&(0,m.jsx)("span",{children:g})}),testId:j,requestId:y,logCardImpressions:C}),(0,m.jsx)(c.h,{menu:(0,m.jsx)(d.H,{uri:s,sharingInfo:x}),children:S})}},38603:(e,a,s)=>{s.r(a),s.d(a,{default:()=>m});var t=s(97500),n=s.n(t),r=s(17160),i=s(69454),l=s(58244),o=s(66015),c=s(56683),d=s(58954),u=s(86070);const m=()=>{const{hasError:e,isLoading:a,items:s}=(0,c.l)();return e||a?(0,u.jsx)(l.LoadingPage,{hasError:e,errorMessage:r.Ru.get("error.request-collection-music-downloads-failure"),loadOffline:!0}):(0,u.jsx)("div",{className:n()(d.A.offline,"contentSpacing"),children:(0,u.jsx)(o.$,{title:r.Ru.get("music_downloads"),total:s.length,showAll:!0,children:s.map(((e,a)=>(0,i.T)(e,a)))})})}},42278:(e,a,s)=>{s.d(a,{E:()=>r});var t=s(30758),n=s(36849);function r(e){var a,s,r,i,l,o=e.size?n.$Z[e.size]:e.iconSize,c=(0,n._C)([{size:16,svgContent:"<path d='M1.75 1A1.75 1.75 0 0 0 0 2.75v11.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0 0 16 14.25v-9.5A1.75 1.75 0 0 0 14.25 3H7.82l-.65-1.125A1.75 1.75 0 0 0 5.655 1H1.75z'/>"},{size:24,svgContent:"<path d='M1 4a2 2 0 0 1 2-2h5.155a3 3 0 0 1 2.598 1.5l.866 1.5H21a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4z'/>"}],o||24),d=null!==(a=e.autoMirror)&&void 0!==a&&a;return t.createElement(n.In,Object.assign({},e,{autoMirror:d,viewBox:"0 0 ".concat(c.size," ").concat(c.size),dangerouslySetInnerHTML:{__html:"".concat((i=e.title,l=e.titleId,i?"<title ".concat(l?'id="'.concat(l,'"'):"",">").concat(i,"</title>"):"")).concat((s=e.desc,r=e.descId,s?"<desc ".concat(r?'id="'.concat(r,'"'):"",">").concat(s,"</desc>"):"")).concat(c.svgContent)}}))}},44819:(e,a,s)=>{s.d(a,{OfflineEmptyState:()=>c});var t=s(48368),n=s(26003),r=s(98715),i=s(17160),l=s(58954),o=s(86070);const c=({showDownloadInformation:e})=>(0,o.jsxs)("div",{className:l.A.emptyStateContainer,children:[e?(0,o.jsx)(t.i,{size:"xxlarge",className:l.A.icon}):(0,o.jsx)(n.P,{size:"xxlarge",className:l.A.icon}),(0,o.jsx)(r.E,{as:"h1",variant:"titleLarge",semanticColor:"textBase",dir:"auto",children:i.Ru.get("web-player.offline.empty-state.title")}),(0,o.jsx)(r.E,{as:"h2",variant:"bodyMedium",semanticColor:"textSubdued",dir:"auto",className:l.A.info,children:e?i.Ru.get("web-player.offline.empty-state.subtitle"):i.Ru.get("offline.callout-disconnected")})]})},56683:(e,a,s)=>{s.d(a,{l:()=>r});var t=s(30758),n=s(97725);function r(){const e=(0,n.B)(),[a,s]=(0,t.useState)(!0),[r,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{(async()=>{try{const a=await e.getDownloads();o(a)}catch(e){i(!0)}finally{s(!1)}})()}),[e]),{isLoading:a,hasError:r,items:l}}},58954:(e,a,s)=>{s.d(a,{A:()=>t});const t={offline:"tpweADmlLll_vhLLKgu2",emptyStateContainer:"e9Wimf8ZtOrZpvPbfWtg",icon:"zCM7ss2KtS5tWRItxyls",info:"lG5QlwmK6exKdfikWw2A"}},65802:(e,a,s)=>{s.r(a),s.d(a,{default:()=>A});var t=s(97500),n=s.n(t),r=s(17160),i=s(69454),l=s(66015),o=s(30758),c=s(40638),d=s(54505),u=s(14238),m=s(38340),g=s(84892),x=s(41264),h=s(25466),f=s(76119),p=s(97987),j=s(41734),b=s(12782),y=s(6585),I=s(35902),v=s(86070);const C=function({uri:e,name:a,images:s,index:t}){const n=(0,b.o)(),i=(0,o.useRef)(null),l=(0,o.useRef)(!0),x=(0,j.A)(),{isPlaying:C}=(0,I.l_)(f.bV),{togglePlay:S}=(0,y.P)({uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]},{featureIdentifier:"local_files"});(0,o.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const k=(0,p.P)(),w=(0,c.YQ)((async(e,a)=>{if(!i.current){const e=await x.getTracks();i.current=e}l&&S({loggingParams:a},{uri:f.bV,pages:[{items:i.current?.map((e=>({...e,provider:null})))||[]}]})}),h.d,{leading:!0,trailing:!1});return n.canFetchAllTracks&&k?(0,v.jsx)(d.Z,{index:t,delegatePlayback:!0,delegateLogging:!0,isPlaying:C,onPlay:w,headerText:a,featureIdentifier:"local_files",uri:e,renderCardImage:()=>(0,v.jsx)(u.M,{images:s,FallbackComponent:g.e}),renderSubHeaderContent:()=>(0,v.jsx)(m.c,{children:r.Ru.get("local-files.description")})}):null},S=({index:e})=>{const a=(0,x.Iu)();return(0,v.jsx)(o.Suspense,{fallback:null,children:(0,v.jsx)(C,{index:e,name:a.name,uri:a.uri,images:a.images})})};var k=s(44819),w=s(56683),P=s(58954);const A=function(){const{hasError:e,items:a}=(0,w.l)(),s=(0,p.P)();return e?null:(0,v.jsx)("div",{className:n()(P.A.offline,"contentSpacing"),children:a.length>0||s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l.$,{title:r.Ru.get("music_downloads"),total:a.length,seeAllUri:"/music-downloads",alwaysShowSeeAll:!0,children:a.map(((e,a)=>(0,i.T)(e,a)))}),s&&(0,v.jsx)(l.$,{title:r.Ru.get("local-files"),total:1,showAll:!0,children:(0,v.jsx)(S,{index:0})})]}):(0,v.jsx)(k.OfflineEmptyState,{showDownloadInformation:!0})})}},69454:(e,a,s)=>{s.d(a,{T:()=>u});var t=s(59002),n=s(2330),r=s(9767),i=s(87668),l=s(24174),o=s(26062),c=s(99772),d=s(86070);function u(e,a){switch(e.type){case o.c.ALBUM:return(0,d.jsx)(t.a,{uri:e.uri,name:e.name,images:e.images,sharingInfo:null,artists:e.artists,index:a},e.uri);case o.c.ARTIST:return(0,d.jsx)(n.a,{uri:e.uri,name:e.name,images:e.images,index:a},e.uri);case o.c.SHOW:return(0,d.jsx)(l.o,{uri:e.uri,name:e.name,images:e.images,publisher:e.publisher,sharingInfo:null,mediaType:c.Q.UNKNOWN,index:a},e.uri);case o.c.AUDIOBOOK:return(0,d.jsx)(r.M,{uri:e.uri,name:e.name,images:e.images,authorName:e.authorName,authors:e.authors,index:a},e.uri);case o.c.PLAYLIST:return(0,d.jsx)(i.B,{uri:e.uri,name:e.name,images:e.images,description:"",authorName:e.creatorName,index:a},e.uri);default:return null}}},84892:(e,a,s)=>{s.d(a,{e:()=>i});var t=s(42278);const n="k270skPbT7JOaSidSA2a";var r=s(86070);const i=({iconSize:e=64,...a})=>(0,r.jsx)("div",{className:n,children:(0,r.jsx)(t.E,{iconSize:e,...a,semanticColor:"textBrightAccent","aria-hidden":!0})})},88376:(e,a,s)=>{s.d(a,{O:()=>d});var t=s(30758),n=s(17160),r=s(28156),i=s(42400);const l="IIKJOrbx5pjNtg3gpI0H";var o=s(86070);const c=e=>e,d=({authorName:e="",authors:a,nameHighlighter:s=c})=>(0,i.H)()&&a?.length?a.map((({uri:e,name:a},i)=>(0,o.jsxs)(t.Fragment,{children:[i?n.Ru.getSeparator():null,e?(0,o.jsx)(r.N,{to:e,className:l,children:s(a)},i):s(a)]},i))):s(e)},97987:(e,a,s)=>{s.d(a,{P:()=>n});var t=s(9510);function n(){return(0,t.y)()[0]}}}]);
//# sourceMappingURL=xpui-routes-offline-browse.js.map